{"version":3,"sources":["services/boardService.js","components/CreateBoard/CreateBoard.jsx","services/userService.js","store/actions/userActions.js","components/User/User.jsx","components/Navbar/Navbar.jsx","services/utils.js","store/actions/boardActions.js","components/CardActions/CardActions.jsx","components/Card/Card.jsx","components/ActionList/ActionList.jsx","components/List/List.jsx","components/Colors/Colors.jsx","components/Members/Members.jsx","components/ToolPanel/ToolPanel.jsx","pages/Home/Home.jsx","components/Boards/Boards.jsx","components/MoveCard/MoveCardModal.jsx","components/Particles/Particles.jsx","pages/Welcome/Welcome.jsx","pages/Signup/Signup.jsx","pages/Login/Login.jsx","services/imgService.js","components/RightMenu/RightMenu.jsx","App.jsx","store/reducers/boardReducer.js","assets/profile img.jpg","store/reducers/userReducer.js","store/index.js","index.js"],"names":["BASE_URL","boardService","loadBoards","loadBoard","createBoard","createList","createCard","removeList","update","moveList","removeBoard","a","axios","get","boards","data","boardId","board","boardTitle","user","post","res","delete","type","put","_id","listTitle","list","txt","listIdx","lists","findIndex","currList","boardCopy","splice","srcId","destId","oldBoard","newBoard","idx","unshift","CreateBoard","setCreateBoard","changeBoard","load","titleRef","useRef","globalRef","useEffect","document","addEventListener","onOutSideClick","removeEventListener","createNewBoard","current","value","ev","contains","target","motion","div","className","ref","initial","animate","exit","variants","in","opacity","x","transition","duration","out","onClick","defaultValue","userService","loadUsers","signup","login","fullName","email","password","error","_handleLogin","sessionStorage","setItem","JSON","stringify","setLoggedUser","dispatch","User","useDispatch","style","position","clear","to","color","Navbar","history","useHistory","push","utils","createId","length","result","characters","charactersLength","i","charAt","Math","floor","random","updateBoard","updatedBoard","moveListToOtherBoard","CardActions","card","setShowEditCard","setShowCardActions","setMoveCardModal","setShowIcon","imageRef","useState","showColors","setShowColors","isUploading","setIsUploading","showLabels","setShowLabels","selectColor","cardIdx","cards","currCard","styles","background","doUpdate","pageTransition1","y","setLabel","label","labels","some","l","labelColor","id","margin","backgroundColor","modal","setCurrentCard","setCurrentList","cardCopy","img","placeholder","imageUrl","Card","newTitleRef","showIcon","showCardActions","showEditCard","onMouseEnter","onMouseLeave","title","src","map","labelId","labelIdx","removeLabel","marginTop","fontSize","ActionList","setShowActionList","setEditListTitle","showNewTitle","setShowNewTitle","setMoveList","useSelector","state","boardReducer","deleteList","moveListToBoard","console","log","listCopy","List","cardRef","isEditable","setIsEditable","showActionList","editListTitle","setEditable","toggleActionList","addNewCard","saveNewTitle","onDragEnd","destination","source","index","srcCard","droppableId","direction","provided","droppableProps","innerRef","marginLeft","draggableId","draggableProps","dragHandleProps","stopPropagation","stopEditing","Colors","setColorPalette","toElement","outerHTML","Members","setIsMembers","toggleSearchUsers","setToggleSearchUsers","users","userReducer","members","member","memberIdx","currMember","removeMember","search","addMemberToBoard","ToolPanel","showBoardsMenu","showRightMenu","searchRef","showColorPalette","editTitle","setEditTitle","isSearch","setIsSearch","isMembers","palette","isStarred","mem","onChange","searchCard","Home","addNewList","srcList","Boards","closeDropdown","numOfStarredBoards","setNumOfStarredBoards","countStarredBoards","handleChangeBoard","count","forEach","deleteBoard","removeStarred","backgroundImage","backgroundSize","backgroundRepeat","MoveCardModal","listRef","listToMoveId","cardToMove","newListIdx","Particles","Welcome","Signup","emailRef","passRef","nameRef","isError","setIsError","errorMsg","setErrorMsg","newSignup","preventDefault","interval","setInterval","clearInterval","flexDirection","form","onSubmit","required","Login","newLogin","imgService","imgs","RightMenu","showImgs","setShowImgs","setNewBackground","App","moveCard","boardsDropdown","setBoardsDropdown","rightMenu","setRightMenu","menu","backgroundPosition","backgroundAttachment","exact","path","render","props","INITIAL_STATE","localLoggedInUser","parse","rootReducer","combineReducers","action","findSearch","filter","find","toLowerCase","includes","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c164a4bd.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\n\r\n// const BASE_URL = 'http://localhost:3001/api/board';\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/board'\r\n    : 'http://localhost:3001/api/board'\r\n\r\n\r\nexport const boardService = {\r\n    loadBoards,\r\n    loadBoard,\r\n    createBoard,\r\n    createList,\r\n    createCard,\r\n    removeList,\r\n    update,\r\n    moveList,\r\n    removeBoard,\r\n}\r\n\r\n\r\nasync function loadBoards() {\r\n    const boards = await axios.get(BASE_URL);\r\n    return boards.data;\r\n}\r\n\r\nasync function loadBoard(boardId) {\r\n    const board = await axios.get(`${BASE_URL}/${boardId}`);\r\n    return board.data;\r\n}\r\n\r\nasync function createBoard(boardTitle, user) {\r\n    const data = {\r\n        boardTitle,\r\n        user\r\n    }\r\n    var res = await axios.post(`${BASE_URL}`, data);\r\n    return res.data;\r\n}\r\n\r\nasync function removeBoard(boardId) {\r\n    await axios.delete(`${BASE_URL}/${boardId}`);\r\n}\r\n\r\nasync function update(board) {\r\n    var data = { board, type: 'board' }\r\n    var res = await axios.put(`${BASE_URL}/${board._id}`, data);\r\n    return res.data;\r\n}\r\n\r\nasync function createList(listTitle, board, type) {\r\n    var data = {\r\n        listTitle,\r\n        board,\r\n        type\r\n    }\r\n    var res = await axios.put(`${BASE_URL}/${board._id}`, data);\r\n    return res.data;\r\n}\r\n\r\nasync function createCard(board, list, txt, type) {\r\n    var data = {\r\n        board,\r\n        list,\r\n        txt,\r\n        type\r\n    }\r\n    var res = await axios.put(`${BASE_URL}/${board._id}`, data);\r\n    return res.data;\r\n}\r\n\r\n\r\nasync function removeList(board, list) {\r\n    var listIdx = board.lists.findIndex(currList => currList._id === list._id);\r\n    var boardCopy = { ...board };\r\n    boardCopy.lists.splice(listIdx, 1);\r\n    var data = {\r\n        board: boardCopy,\r\n        type: 'remove'\r\n    }\r\n    var res = await axios.put(`${BASE_URL}/${board._id}`, data);\r\n    return res.data;\r\n}\r\n\r\n\r\nasync function moveList(srcId, destId, list) {\r\n    var oldBoard = await loadBoard(srcId);\r\n    var newBoard = await loadBoard(destId);\r\n    if (oldBoard) {\r\n        var idx = oldBoard.lists.findIndex(currList => currList._id === list._id);\r\n        oldBoard.lists.splice(idx, 1);\r\n        await update(oldBoard);\r\n    }\r\n    if (newBoard) {\r\n        newBoard.lists.unshift(list);\r\n        await update(newBoard);\r\n    }\r\n    return oldBoard;\r\n}\r\n\r\n","\r\n\r\nimport React, { useEffect, useRef } from 'react';\r\nimport './CreateBoard.scss';\r\nimport { FiTrello, FiX } from 'react-icons/fi';\r\nimport { boardService } from './../../services/boardService';\r\nimport { motion } from \"framer-motion\";\r\n\r\nexport default function CreateBoard({ setCreateBoard, user, changeBoard, load }) {\r\n    const titleRef = useRef();\r\n    const globalRef = useRef();\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('mousedown', onOutSideClick);\r\n        return () => {\r\n            document.removeEventListener('mousedown', onOutSideClick);\r\n        }\r\n    }, [])\r\n\r\n    const createNewBoard = async () => {\r\n        var board = await boardService.createBoard(titleRef.current.value, user);\r\n        setCreateBoard(false);\r\n        load();\r\n        changeBoard(board._id);\r\n    }\r\n\r\n    const onOutSideClick = (ev) => {\r\n        if (globalRef.current && !globalRef.current.contains(ev.target)) {\r\n            setCreateBoard(false);\r\n        }\r\n    }\r\n\r\n    const pageTransition = {\r\n        in: {\r\n            opacity: 1,\r\n            x: 0,\r\n            transition: { duration: 0.2 }\r\n        },\r\n        out: {\r\n            opacity: 0,\r\n            x:\"-10%\"\r\n        }\r\n    };\r\n\r\n    return (\r\n        \r\n           \r\n                <motion.div className=\"create-board\" ref={globalRef} initial=\"out\" animate=\"in\" exit=\"out\" variants={pageTransition}>\r\n                    <div className=\"close\" onClick={() => setCreateBoard(false)}><FiX /></div>\r\n                    <div className=\"flex-center\">\r\n                        <FiTrello className=\"icon-nr\" />\r\n                        <p>Create Board</p>\r\n                    </div>\r\n                    <div className=\"flex\">\r\n                        <p>Board Title:</p>\r\n                        <input type=\"text\" ref={titleRef} defaultValue=\"New Board\" />\r\n                    </div>\r\n                    <div>\r\n                        <button onClick={createNewBoard}>Create</button>\r\n                    </div>\r\n                </motion.div>\r\n           \r\n        \r\n    )\r\n}\r\n","\r\nimport axios from 'axios';\r\n\r\n// const BASE_URL = 'http://localhost:3001/api/user';\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/user'\r\n    : 'http://localhost:3001/api/user'\r\n\r\n\r\nexport const userService = {\r\n    loadUsers,\r\n    signup,\r\n    login\r\n}\r\n\r\nasync function loadUsers() {\r\n    var res = await axios.get(BASE_URL);\r\n    return res.data;\r\n}\r\n\r\nasync function signup(fullName, email, password) {\r\n    const data = { fullName, email, password }\r\n    var res = await axios.post(`${BASE_URL}/signup`, data);\r\n    return res.data;\r\n\r\n}\r\n\r\nasync function login(email, password) {\r\n    const data = { email, password };\r\n    const user = await axios.post(`${BASE_URL}/login`, data);\r\n    if(user.data.error) return {error:'Wrong password or email!'};\r\n    else return _handleLogin(user.data);\r\n}\r\n\r\nfunction _handleLogin(user) {\r\n    sessionStorage.setItem('user', JSON.stringify(user));\r\n    return user;\r\n}","import { userService } from \"../../services/userService\";\r\n\r\n\r\nexport function loadUsers() {\r\n    return async dispatch => {\r\n        const users = await userService.loadUsers();\r\n        dispatch({ type: 'SET_USERS', users });\r\n    }\r\n}\r\n\r\nexport function setLoggedUser(user) {\r\n    return dispatch => {\r\n        dispatch({ type: 'LOGIN_USER', user })\r\n    }\r\n}\r\n\r\nexport function logoutUser() {\r\n    return dispatch => {\r\n        dispatch({ type: 'LOGOUT' })\r\n    }\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './User.scss';\r\nimport { useDispatch } from 'react-redux';\r\nimport { logoutUser } from '../../store/actions/userActions';\r\n\r\nexport default function User({ user }) {\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    const logout = () => {\r\n        sessionStorage.clear();\r\n        dispatch(logoutUser());\r\n    }\r\n    return (\r\n        <div className=\"user\">\r\n\r\n            {user &&\r\n                <div className=\"user-details flex-center\">\r\n                    <div style={{position:'relative'}}>\r\n                        <p className=\"name\">{user.fullName}</p>\r\n                        <p className=\"email\">{user.email}</p>\r\n                    </div>\r\n                    <p>|</p>\r\n                    <p onClick={logout} className=\"logout\">Logout</p>\r\n                </div>\r\n            }\r\n\r\n            {!user &&\r\n                <div className=\"log flex-center\">\r\n                    <Link to=\"/login\">Login</Link>\r\n                    <p style={{ color: '#fff' }}>|</p>\r\n                    <Link to=\"/signup\">Signup</Link>\r\n                </div>\r\n            }\r\n\r\n        </div>\r\n    )\r\n}\r\n","\r\n\r\nimport React from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { Link } from 'react-router-dom';\r\nimport User from '../User/User';\r\nimport './Navbar.scss';\r\n\r\n\r\nexport default function Navbar({ user }) {\r\n    const history = useHistory();\r\n\r\n    const redirect = () => history.push('/');\r\n\r\n    return (\r\n        <div className=\"navbar\" >\r\n            <div className=\"title flex-center\">\r\n                <h1 onClick={redirect}>Trevo</h1>\r\n                <div>\r\n                    <Link to=\"/\">Home</Link>\r\n                    <Link to=\"/board\">Boards</Link>\r\n                </div>\r\n            </div>\r\n            <User user={user} />\r\n        </div>\r\n    )\r\n}\r\n\r\n","function createId(length = 24) {\r\n    var result = '';\r\n    var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    var charactersLength = characters.length;\r\n    for (var i = 0; i < length; i++) {\r\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n    }\r\n    return result;\r\n}\r\n\r\nexport const utils = {\r\n    createId\r\n}","\r\nimport { boardService } from './../../services/boardService';\r\n\r\nexport function loadBoards() {\r\n    return async dispatch => {\r\n        const boards = await boardService.loadBoards();\r\n        dispatch({ type: 'SET_BOARDS', boards });\r\n    }\r\n}\r\n\r\nexport function loadBoard(boardId) {\r\n    return async dispatch => {\r\n        const board = await boardService.loadBoard(boardId);\r\n        dispatch({ type: 'SET_BOARD', board });\r\n    }\r\n}\r\n\r\nexport function updateBoard(updatedBoard) {\r\n    return async dispatch => {\r\n        const board = await boardService.update(updatedBoard);\r\n        dispatch({ type: 'UPDATE_BOARD', board });\r\n    }\r\n}\r\n\r\nexport function moveListToOtherBoard(srcId, destId, list) {\r\n    return async dispatch => {\r\n        const board = await boardService.moveList(srcId, destId, list);\r\n        dispatch({ type: 'MOVE_LIST', board });\r\n    }\r\n}\r\n\r\nexport function setCurrentCard(card) {\r\n    return dispatch => {\r\n        dispatch({ type: 'SET_CARD', card });\r\n    }\r\n}\r\n\r\n\r\nexport function setCurrentList(list) {\r\n    return dispatch => {\r\n        dispatch({ type: 'SET_LIST', list });\r\n    }\r\n}\r\n\r\nexport function searchCard(txt, board) {\r\n    return dispatch => {\r\n        dispatch({ type: 'SEARCH_CARD', txt, board });\r\n    }\r\n}\r\n\r\n\r\n\r\n","\r\n\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { utils } from '../../services/utils';\r\nimport { setCurrentCard, setCurrentList, updateBoard } from '../../store/actions/boardActions';\r\nimport './CardActions.scss';\r\nimport { motion } from \"framer-motion\";\r\nimport { FiX } from 'react-icons/fi';\r\n\r\n\r\nexport default function CardActions({ card, board, list, setShowEditCard, setShowCardActions, setMoveCardModal, setShowIcon }) {\r\n    const dispatch = useDispatch();\r\n    const imageRef = useRef();\r\n    const [showColors, setShowColors] = useState(false);\r\n    const [isUploading, setIsUploading] = useState(false);\r\n    const [showLabels, setShowLabels] = useState(false);\r\n\r\n    useEffect(() => {\r\n    }, [card, board, list]);\r\n\r\n    const deleteCard = () => {\r\n        const updatedBoard = { ...board };\r\n        const listIdx = updatedBoard.lists.findIndex(currList => currList._id === list._id);\r\n        const cardIdx = list.cards.findIndex(currCard => currCard._id === card._id);\r\n        updatedBoard.lists[listIdx].cards.splice(cardIdx, 1);\r\n        dispatch(updateBoard(updatedBoard));\r\n        setShowIcon(false);\r\n    }\r\n\r\n    const copyCard = () => {\r\n        const updatedBoard = { ...board };\r\n        const cardCopy = { ...card };\r\n        const listIdx = updatedBoard.lists.findIndex(currList => currList._id === list._id);\r\n        const cardIdx = list.cards.findIndex(currCard => currCard._id === card._id);\r\n        cardCopy._id = utils.createId();\r\n        updatedBoard.lists[listIdx].cards.splice(cardIdx + 1, 0, cardCopy);\r\n        doUpdate(updatedBoard);\r\n    }\r\n\r\n\r\n    const selectColor = (color) => {\r\n        const updatedBoard = { ...board };\r\n        const listIdx = updatedBoard.lists.findIndex(currList => currList._id === list._id);\r\n        const cardIdx = list.cards.findIndex(currCard => currCard._id === card._id);\r\n        updatedBoard.lists[listIdx].cards[cardIdx].styles.background = color;\r\n        doUpdate(updatedBoard);\r\n    }\r\n\r\n    const setCard = () => {\r\n        setMoveCardModal(modal => !modal);\r\n        setShowCardActions(false);\r\n        dispatch(setCurrentCard(card));\r\n        dispatch(setCurrentList(list));\r\n        setShowIcon(false);\r\n    }\r\n\r\n    const uploadImage = () => {\r\n        const imageUrl = imageRef.current.value;\r\n        const updatedBoard = { ...board };\r\n        const listIdx = updatedBoard.lists.findIndex(currList => currList._id === list._id);\r\n        const cardIdx = list.cards.findIndex(currCard => currCard._id === card._id);\r\n        updatedBoard.lists[listIdx].cards[cardIdx].img = imageUrl;\r\n        doUpdate(updatedBoard);\r\n    }\r\n\r\n    const doUpdate = (board) => {\r\n        dispatch(updateBoard(board));\r\n        setShowCardActions(false);\r\n        setShowIcon(false);\r\n    }\r\n\r\n    const pageTransition1 = {\r\n        in: { opacity: 1, y: 0, transition: { duration: 0.2 } },\r\n        out: { opacity: 0, y: -10, }\r\n    };\r\n\r\n    const setLabel = (label) => {\r\n        const updatedBoard = { ...board };\r\n        const listIdx = updatedBoard.lists.findIndex(currList => currList._id === list._id);\r\n        const cardIdx = list.cards.findIndex(currCard => currCard._id === card._id);\r\n        if (updatedBoard.lists[listIdx].cards[cardIdx].labels.some(l => l.labelColor === label)) return;\r\n        else {\r\n            updatedBoard.lists[listIdx].cards[cardIdx].labels.push({ id: utils.createId(), labelColor: label });\r\n            doUpdate(updatedBoard);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"card-actions\">\r\n            <FiX className=\"close\" style={{ margin: '3px' }} onClick={() => { setShowCardActions(false); setShowIcon(false) }} />\r\n            <div className=\"title\">Card actions</div>\r\n            <div className=\"option\" onClick={deleteCard}>Delete this card</div>\r\n            <div className=\"option\" onClick={() => setShowEditCard(card => !card)}>Edit this card</div>\r\n            <div className=\"option\" onClick={() => setShowLabels(label => !label)}>Add Label</div>\r\n\r\n\r\n            {showLabels &&\r\n                <motion.div initial=\"out\" animate=\"in\" exit=\"out\" variants={pageTransition1}>\r\n                    <div className=\"color\" style={{ backgroundColor: '#86E42E' }} onClick={() => setLabel('#86E42E')}></div>\r\n                    <div className=\"color\" style={{ backgroundColor: '#FCDD53' }} onClick={() => setLabel('#FCDD53')}></div>\r\n                    <div className=\"color\" style={{ backgroundColor: '#FF5757' }} onClick={() => setLabel('#FF5757')}></div>\r\n                </motion.div>\r\n            }\r\n\r\n\r\n            <div className=\"option\" onClick={() => setShowColors(color => !color)}>Color this card</div>\r\n\r\n            {showColors && <motion.div initial=\"out\" animate=\"in\" exit=\"out\" variants={pageTransition1}>\r\n                <div className=\"color\" style={{ backgroundColor: '#F8D086' }} onClick={() => selectColor('#F8D086')}></div>\r\n                <div className=\"color\" style={{ backgroundColor: '#94F7A9' }} onClick={() => selectColor('#94F7A9')}></div>\r\n                <div className=\"color\" style={{ backgroundColor: '#86CEF8' }} onClick={() => selectColor('#86CEF8')}></div>\r\n                <div className=\"color\" style={{ backgroundColor: '#AF86F8' }} onClick={() => selectColor('#AF86F8')}></div>\r\n                <div className=\"color\" style={{ backgroundColor: '#FC5757' }} onClick={() => selectColor('#FC5757')}></div>\r\n                <div className=\"color\" style={{ backgroundColor: '#fff' }} onClick={() => selectColor('#fff')}></div>\r\n            </motion.div>}\r\n\r\n            <div className=\"option\" onClick={setCard}>Move to other list</div>\r\n            <div className=\"option\" onClick={copyCard}>Copy this card</div>\r\n\r\n            <div className=\"option\" onClick={() => setIsUploading(img => !img)}>Add image</div>\r\n\r\n            {isUploading &&\r\n                <motion.div className=\"img-upload\" initial=\"out\" animate=\"in\" exit=\"out\" variants={pageTransition1}>\r\n                    <input type=\"text\" placeholder=\"Image url...\" ref={imageRef} />\r\n                    <button onClick={uploadImage}>Add</button>\r\n                </motion.div>\r\n            }\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport './Card.scss';\r\nimport { VscEdit } from \"react-icons/vsc\";\r\nimport CardActions from '../CardActions/CardActions';\r\nimport { FiX } from 'react-icons/fi';\r\nimport { useDispatch } from 'react-redux';\r\nimport { updateBoard } from '../../store/actions/boardActions';\r\nimport { motion } from \"framer-motion\";\r\n\r\nexport default function Card({ card, board, list, setMoveCardModal }) {\r\n    const globalRef = useRef();\r\n    const newTitleRef = useRef();\r\n    const dispatch = useDispatch();\r\n    const [showIcon, setShowIcon] = useState(false);\r\n    const [showCardActions, setShowCardActions] = useState(false);\r\n    const [showEditCard, setShowEditCard] = useState(false);\r\n\r\n\r\n    useEffect(() => {\r\n    }, [card, board, list])\r\n\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('mousedown', onOutSideClick);\r\n        return () => {\r\n            document.removeEventListener('mousedown', onOutSideClick);\r\n        }\r\n    }, [])\r\n\r\n\r\n    const onOutSideClick = (ev) => {\r\n        if (globalRef.current && !globalRef.current.contains(ev.target)) {\r\n            setShowCardActions(false);\r\n        }\r\n    }\r\n\r\n    const saveEditedCard = () => {\r\n        const updatedBoard = { ...board };\r\n        const listIdx = updatedBoard.lists.findIndex(currList => currList._id === list._id);\r\n        const cardIdx = list.cards.findIndex(currCard => currCard._id === card._id);\r\n        updatedBoard.lists[listIdx].cards[cardIdx].title = newTitleRef.current.value;\r\n        dispatch(updateBoard(updatedBoard));\r\n        setShowEditCard(false);\r\n        setShowCardActions(false);\r\n        setShowIcon(false);\r\n    }\r\n\r\n    const removeImage = () => {\r\n        const updatedBoard = { ...board };\r\n        const listIdx = updatedBoard.lists.findIndex(currList => currList._id === list._id);\r\n        const cardIdx = list.cards.findIndex(currCard => currCard._id === card._id);\r\n        delete updatedBoard.lists[listIdx].cards[cardIdx].img;\r\n        dispatch(updateBoard(updatedBoard));\r\n    }\r\n\r\n    const removeLabel = (labelId) => {\r\n        const updatedBoard = { ...board };\r\n        const listIdx = updatedBoard.lists.findIndex(currList => currList._id === list._id);\r\n        const cardIdx = list.cards.findIndex(currCard => currCard._id === card._id);\r\n        const labelIdx = updatedBoard.lists[listIdx].cards[cardIdx].labels.findIndex(label => label.id === labelId);\r\n        updatedBoard.lists[listIdx].cards[cardIdx].labels.splice(labelIdx,1);\r\n        dispatch(updateBoard(updatedBoard));\r\n    }\r\n\r\n\r\n    const pageTransition = {\r\n        in: {\r\n            opacity: 1,\r\n            x: 0,\r\n            transition: { duration: 0.2 }\r\n        },\r\n        out: {\r\n            opacity: 0,\r\n            x: \"-10%\"\r\n        }\r\n    };\r\n    const pageTransition1 = {\r\n        in: { opacity: 1, y: 0, transition: { duration: 0.4 } },\r\n        out: { opacity: 0, y: -10, }\r\n    };\r\n    const pageTransition2 = {\r\n        in: { opacity: 1, y: 0, transition: { duration: 0.2 } },\r\n        out: { opacity: 0, y: -10, }\r\n    };\r\n\r\n    return (\r\n        <motion.div className=\"card\" onMouseEnter={() => setShowIcon(true)} onMouseLeave={() => setShowIcon(false)}\r\n            ref={globalRef}\r\n            style={{ backgroundColor: card.styles.background }} initial=\"out\" animate=\"in\" exit=\"out\" variants={pageTransition2}>\r\n            {showEditCard &&\r\n                <motion.div className=\"edit-card\" initial=\"out\" animate=\"in\" exit=\"out\" variants={pageTransition1}>\r\n                    <textarea defaultValue={card.title} ref={newTitleRef}></textarea>\r\n                    {card.img && <div className=\"img-container flex-center\">\r\n                        <img src={card.img}></img>\r\n                        <div className=\"delete-image\" onClick={removeImage}>Delete image</div>\r\n                    </div>}\r\n                    <div className=\"flex\">\r\n                        <button onClick={saveEditedCard}>Save</button>\r\n                        <FiX className=\"icon-close\"\r\n                            onClick={() => { setShowEditCard(false); setShowCardActions(false); setShowIcon(false) }} />\r\n                    </div>\r\n                </motion.div>\r\n            }\r\n            {!showEditCard &&\r\n                <div>\r\n                    <div className=\"labels\">\r\n                        {card.labels.map(label => {\r\n                            return (\r\n                                <div className=\"label\" style={{ backgroundColor: label.labelColor }} onClick={()=>removeLabel(label.id)}>\r\n                                </div>\r\n                            )\r\n\r\n                        })}\r\n                    </div>\r\n                    <div className=\"img-container flex-center\">\r\n                        {card.img &&\r\n                            <img src={card.img}></img>\r\n                        }\r\n                    </div>\r\n                    <p className=\"card-text\" style={{marginTop: card.labels.length ? '5px' : null}}>{card.title}</p>\r\n                </div>\r\n            }\r\n            {showIcon &&\r\n                <div className=\"card-options flex\" onClick={() => setShowCardActions(card => !card)}>\r\n                    <VscEdit style={{ color: '#484848', fontSize: '14px' }} />\r\n                </div>\r\n            }\r\n            <div className=\"card-options-mobile flex\" onClick={() => setShowCardActions(card => !card)}>\r\n                <VscEdit style={{ color: '#484848', fontSize: '14px' }} />\r\n            </div>\r\n            {showCardActions &&\r\n                <motion.div className=\"card-menu\" initial=\"out\" animate=\"in\" exit=\"out\" variants={pageTransition}>\r\n                    <CardActions\r\n                        card={card}\r\n                        board={board}\r\n                        list={list}\r\n                        setShowEditCard={setShowEditCard}\r\n                        setShowCardActions={setShowCardActions}\r\n                        setMoveCardModal={setMoveCardModal}\r\n                        setShowIcon={setShowIcon} />\r\n                </motion.div>\r\n            }\r\n        </motion.div>\r\n    )\r\n}\r\n","\r\n\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { boardService } from '../../services/boardService';\r\nimport './ActionList.scss';\r\nimport { FiX } from 'react-icons/fi';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { moveListToOtherBoard, updateBoard } from '../../store/actions/boardActions';\r\nimport { utils } from '../../services/utils';\r\n\r\nexport default function ActionList({ list, board, setShowActionList, load, changeBoard, setEditListTitle }) {\r\n    const globalRef = useRef();\r\n    const titleRef = useRef();\r\n    const dispatch = useDispatch();\r\n    const [showNewTitle, setShowNewTitle] = useState(false);\r\n    const [moveList, setMoveList] = useState(false);\r\n    const boards = useSelector(state => state.boardReducer.boards);\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('mousedown', onOutSideClick);\r\n        return () => {\r\n            document.removeEventListener('mousedown', onOutSideClick);\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n    }, [list, board]);\r\n\r\n    const onOutSideClick = (ev) => {\r\n        if (globalRef.current && !globalRef.current.contains(ev.target)) {\r\n            setShowActionList(false);\r\n        }\r\n    }\r\n\r\n    const deleteList = async () => {\r\n        var updatedBoard = await boardService.removeList(board, list);\r\n        load();\r\n        changeBoard(updatedBoard._id);\r\n    }\r\n\r\n    const closeMenu = () => setShowActionList(false);\r\n    const copyList = () => setShowNewTitle(list => !list);\r\n\r\n    const saveCopiedList = () => {\r\n        const listCopy = { ...list };\r\n        const boardCopy = { ...board };\r\n        const listIdx = boardCopy.lists.findIndex(currList => currList._id === list._id);\r\n        listCopy.title = titleRef.current.value;\r\n        listCopy._id = utils.createId();\r\n        boardCopy.lists.splice(listIdx + 1, 0, listCopy);\r\n        dispatch(updateBoard(boardCopy));\r\n        setShowActionList(false);\r\n    }\r\n\r\n    const toggleMoveList = () => setMoveList(list => !list);\r\n\r\n    const moveListToBoard = async (newBoard) => {\r\n        if (newBoard._id === board._id){\r\n            console.log('same board...');\r\n            return;\r\n        }\r\n        else {\r\n            dispatch(moveListToOtherBoard(board._id, newBoard._id, list));\r\n            load();\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"action-list\" ref={globalRef}>\r\n            <div className=\"close close-action\" onClick={closeMenu}><FiX /></div>\r\n            <div className=\"title\">List actions</div>\r\n            <div onClick={copyList} className=\"hover-e\">Copy this list...</div>\r\n\r\n            {showNewTitle &&\r\n                <div className=\"new-title\">\r\n                    <input type=\"text\" ref={titleRef} placeholder=\"New title...\" />\r\n                    <button onClick={saveCopiedList}>Save</button>\r\n                </div>\r\n            }\r\n\r\n            <div onClick={toggleMoveList} className=\"hover-e\">Move list to board...</div>\r\n            {moveList &&\r\n                <div className=\"list-container\">\r\n                    <p>Select board...</p>\r\n                    {boards.map(board => {\r\n                        return (\r\n                            <div key={board._id} className=\"move-list\">\r\n                                <p onClick={() => moveListToBoard(board)}>{board.title}</p>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n            }\r\n            <div className=\"hover-e\" onClick={() => setEditListTitle(list => !list)}>Edit title...</div>\r\n            <div className=\"hover-e\" onClick={deleteList}>Delete this list...</div>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport Card from '../Card/Card';\r\nimport './List.scss';\r\nimport { FiX, FiCheck } from 'react-icons/fi';\r\nimport { FiPlus, FiMoreHorizontal } from \"react-icons/fi\";\r\nimport { boardService } from './../../services/boardService';\r\nimport ActionList from '../ActionList/ActionList';\r\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\r\nimport { useDispatch } from 'react-redux';\r\nimport { updateBoard } from '../../store/actions/boardActions';\r\nimport { motion } from \"framer-motion\";\r\n\r\n\r\n\r\nexport default function List({ list, board, load, changeBoard, setMoveCardModal }) {\r\n    const cardRef = useRef();\r\n    const newTitleRef = useRef();\r\n    const dispatch = useDispatch();\r\n    const [isEditable, setIsEditable] = useState(false);\r\n    const [showActionList, setShowActionList] = useState(false);\r\n    const [editListTitle, setEditListTitle] = useState(false);\r\n\r\n\r\n    useEffect(() => {\r\n    }, [list, board])\r\n\r\n    const setEditable = () => {\r\n        setIsEditable(true);\r\n    }\r\n    const stopEditing = (ev) => {\r\n        ev.stopPropagation();\r\n        setIsEditable(false);\r\n    }\r\n\r\n    const toggleActionList = () => {\r\n        setShowActionList(list => !list);\r\n    }\r\n\r\n    const addNewCard = async () => {\r\n        if (!cardRef.current.value) return;\r\n        var updatedBoard = await boardService.createCard(board, list, cardRef.current.value, 'card');\r\n        load();\r\n        changeBoard(updatedBoard.board._id);\r\n        cardRef.current.value = '';\r\n    }\r\n\r\n    const cardDragEnd = (res) => {\r\n        console.log(res);\r\n        if (!res.destination) return;\r\n        else {\r\n            const boardCopy = { ...board };\r\n            const listIdx = boardCopy.lists.findIndex(currList => currList._id === list._id);\r\n            const [srcCard] = boardCopy.lists[listIdx].cards.splice(res.source.index, 1);\r\n            boardCopy.lists[listIdx].cards.splice(res.destination.index, 0, srcCard);\r\n            dispatch(updateBoard(boardCopy));\r\n        }\r\n    }\r\n\r\n    const saveNewTitle = () => {\r\n        const boardCopy = { ...board };\r\n        const listIdx = boardCopy.lists.findIndex(currList => currList._id === list._id);\r\n        boardCopy.lists[listIdx].title = newTitleRef.current.value;\r\n        dispatch(updateBoard(boardCopy));\r\n        setEditListTitle(false);\r\n    }\r\n\r\n    const pageTransition = {\r\n        in: { opacity: 1, x: 0, transition: { duration: 0.2 } },\r\n        out: { opacity: 0, x: \"-10%\", }\r\n    };\r\n    const pageTransition1 = {\r\n        in: { opacity: 1, y: 0, transition: { duration: 0.2 } },\r\n        out: { opacity: 0, y: -10, }\r\n    };\r\n\r\n    // const handleKey = (ev) => {\r\n    //     // charCode: 13\r\n    //     if (ev.charCode === 13) {\r\n    //         cardRef.current.value += '\\n'\r\n    //     }\r\n\r\n    // }\r\n\r\n    return (\r\n        <div className=\"list\">\r\n            <DragDropContext onDragEnd={cardDragEnd}>\r\n                <Droppable droppableId=\"cards\" direction=\"vertical\" type=\"row\">\r\n                    {(provided) => (\r\n                        <div {...provided.droppableProps} ref={provided.innerRef}>\r\n                            <div className=\"title flex\">\r\n                                {!editListTitle &&\r\n                                    <div className=\"flex\">\r\n                                        <p className=\"icon-regular\" onClick={() => setEditListTitle(list => !list)}>{list.title}</p>\r\n                                    </div>\r\n                                }\r\n                                {editListTitle &&\r\n                                    <div className=\"flex icon-regular\">\r\n                                        <input type=\"text\" defaultValue={list.title} ref={newTitleRef} className=\"edit-title\" />\r\n                                        <div className=\"edit-icons\">\r\n                                            <FiCheck style={{ marginLeft: '5px' }} className=\"icon-nr icon-regular icon-hov\" onClick={saveNewTitle} />\r\n                                            <FiX className=\"icon-regular icon-hov\" onClick={() => setEditListTitle(false)} />\r\n                                        </div>\r\n                                    </div>\r\n                                }\r\n                                <div onClick={toggleActionList} className=\"action-btn flex\">\r\n                                    <FiMoreHorizontal className=\"icon-regular\" />\r\n                                </div>\r\n                            </div>\r\n\r\n                            {list.cards.map((card, index) => {\r\n                                return (\r\n                                    <Draggable key={card._id} draggableId={card._id} index={index}>\r\n                                        {(provided) => (\r\n                                            <div {...provided.draggableProps} {...provided.dragHandleProps} ref={provided.innerRef}>\r\n                                                <Card card={card} key={card._id}\r\n                                                    board={board}\r\n                                                    list={list}\r\n                                                    setMoveCardModal={setMoveCardModal} />\r\n                                            </div>\r\n                                        )}\r\n                                    </Draggable>\r\n                                )\r\n                            })}\r\n                            {provided.placeholder}\r\n\r\n\r\n                            {!isEditable &&\r\n                                <motion.div className=\"flex pre-edit\" onClick={setEditable} initial=\"out\" animate=\"in\" exit=\"out\" variants={pageTransition1}>\r\n                                    <FiPlus className=\"icon-nr\" />\r\n                                    <p>Add Another card</p>\r\n                                </motion.div>\r\n                            }\r\n\r\n\r\n                            {isEditable &&\r\n                                <motion.div className=\"edit\" initial=\"out\" animate=\"in\" exit=\"out\" variants={pageTransition1}>\r\n                                    <textarea ref={cardRef} placeholder=\"Write something...\" />\r\n                                    <div className=\"flex\">\r\n                                        <button onClick={addNewCard}>Add card</button>\r\n                                        <div onClick={(ev) => stopEditing(ev)} className=\"icon-in flex\">\r\n                                            <FiX />\r\n                                        </div>\r\n                                    </div>\r\n                                </motion.div>\r\n                            }\r\n                        </div>\r\n                    )}\r\n                </Droppable>\r\n            </DragDropContext>\r\n\r\n            {showActionList &&\r\n                <motion.div className=\"options\" initial=\"out\" animate=\"in\" exit=\"out\" variants={pageTransition}>\r\n                    <ActionList list={list}\r\n                        board={board}\r\n                        setShowActionList={setShowActionList}\r\n                        load={load}\r\n                        changeBoard={changeBoard}\r\n                        setEditListTitle={setEditListTitle} />\r\n                </motion.div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useRef } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { updateBoard } from '../../store/actions/boardActions';\r\nimport './Color.scss';\r\nimport { motion } from \"framer-motion\";\r\n\r\nexport default function Colors({ setColorPalette }) {\r\n    const globalRef = useRef();\r\n    const dispatch = useDispatch();\r\n    const board = useSelector(state => state.boardReducer.board);\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('mousedown', onOutSideClick);\r\n        return () => {\r\n            document.removeEventListener('mousedown', onOutSideClick);\r\n        }\r\n    }, [])\r\n\r\n    const onOutSideClick = (ev) => {\r\n        if (globalRef.current && !globalRef.current.contains(ev.target)\r\n            && ev.toElement.outerHTML !== '<p>Color</p>') {\r\n            setColorPalette(false);\r\n        }\r\n    }\r\n\r\n    const selectColor = (color) => {\r\n        const newBoard = { ...board };\r\n        newBoard.styles.img = \"\";\r\n        newBoard.styles.background = color;\r\n        dispatch(updateBoard(newBoard));\r\n        setColorPalette(false);\r\n    }\r\n\r\n    const pageTransition1 = {\r\n        in: { opacity: 1, y: 0, transition: { duration: 0.2 } },\r\n        out: { opacity: 0, y: -10, }\r\n    };\r\n\r\n    return (\r\n        <motion.div className=\"color-menu\" ref={globalRef} initial=\"out\" animate=\"in\" exit=\"out\" variants={pageTransition1}>\r\n            <div className=\"color\" style={{ backgroundColor: '#FF9E52' }} onClick={() => selectColor('#FF9E52')}></div>\r\n            <div className=\"color\" style={{ backgroundColor: '#526CFF' }} onClick={() => selectColor('#526CFF')}></div>\r\n            <div className=\"color\" style={{ backgroundColor: '#4C9908' }} onClick={() => selectColor('#4C9908')}></div>\r\n            <div className=\"color\" style={{ backgroundColor: '#089980' }} onClick={() => selectColor('#089980')}></div>\r\n\r\n            <div className=\"color\" style={{ backgroundColor: '#96CF39' }} onClick={() => selectColor('#96CF39')}></div>\r\n            <div className=\"color\" style={{ backgroundColor: '#0079BF' }} onClick={() => selectColor('#0079BF')}></div>\r\n            <div className=\"color\" style={{ backgroundColor: '#F05840' }} onClick={() => selectColor('#F05840')}></div>\r\n            <div className=\"color\" style={{ backgroundColor: '#F0C040' }} onClick={() => selectColor('#F0C040')}></div>\r\n            <div className=\"color\" style={{ backgroundColor: '#5540F0' }} onClick={() => selectColor('#5540F0')}></div>\r\n        </motion.div>\r\n    )\r\n}\r\n","\r\n\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport './Members.scss';\r\nimport { loadUsers } from './../../store/actions/userActions';\r\nimport { updateBoard } from './../../store/actions/boardActions';\r\nimport { motion } from \"framer-motion\";\r\nimport { FiChevronDown } from \"react-icons/fi\";\r\n\r\nexport default function Members({ setIsMembers }) {\r\n    const dispatch = useDispatch();\r\n    const globalRef = useRef();\r\n    const [toggleSearchUsers, setToggleSearchUsers] = useState(false);\r\n    const board = useSelector(state => state.boardReducer.board);\r\n    const users = useSelector(state => state.userReducer.users);\r\n\r\n    useEffect(() => {\r\n        dispatch(loadUsers());\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('mousedown', onOutSideClick);\r\n        return () => {\r\n            document.removeEventListener('mousedown', onOutSideClick);\r\n        }\r\n    }, [])\r\n\r\n    const addMemberToBoard = (user) => {\r\n        const boardCopy = { ...board };\r\n        const check = boardCopy.members.some(member => member.email === user.email);\r\n        if (check) return;\r\n        else {\r\n            boardCopy.members.push(user);\r\n            dispatch(updateBoard(boardCopy));\r\n        }\r\n    }\r\n\r\n    const removeMember = (member) => {\r\n        const boardCopy = { ...board };\r\n        const memberIdx = boardCopy.members.findIndex(currMember => currMember._id === member._id);\r\n        boardCopy.members.splice(memberIdx, 1);\r\n        dispatch(updateBoard(boardCopy));\r\n    }\r\n\r\n    const pageTransition1 = {\r\n        in: { opacity: 1, y: 0, transition: { duration: 0.2 } },\r\n        out: { opacity: 0, y: -10, }\r\n    };\r\n\r\n    const onOutSideClick = (ev) => {\r\n        if (globalRef.current && !globalRef.current.contains(ev.target)\r\n            && ev.toElement.outerHTML !== '<p>Board members</p>') {\r\n            setToggleSearchUsers(false);\r\n            setIsMembers(false);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <motion.div className=\"members\" initial=\"out\" animate=\"in\" exit=\"out\" variants={pageTransition1} ref={globalRef}>\r\n\r\n            <p className=\"title\">Board Members</p>\r\n            <div className=\"curr-members\">\r\n                {board.members.map(member => {\r\n                    return (\r\n                        <div key={member._id} className=\"user-container\">\r\n                            <p className=\"curr-user\">{member.fullName}</p>\r\n                            <p className=\"curr-user email\">{member.email}</p>\r\n                            <p className=\"icon-add\" onClick={() => removeMember(member)}>x</p>\r\n                        </div>\r\n                    )\r\n                })}\r\n            </div>\r\n\r\n            <div className=\"search\" onClick={() => setToggleSearchUsers(search => !search)}><p>Search for new users</p><FiChevronDown/></div>\r\n\r\n            {users && toggleSearchUsers &&\r\n                <motion.div className=\"curr-members\" initial=\"out\" animate=\"in\" exit=\"out\" variants={pageTransition1}>\r\n                    {users.map(user => {\r\n                        return (\r\n                            <div key={user._id} className=\"user-container\">\r\n                                <p className=\"curr-user\">{user.fullName}</p>\r\n                                <p className=\"curr-user email\">{user.email}</p>\r\n                                <p className=\"icon-add\" onClick={() => addMemberToBoard(user)}>+</p>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </motion.div>\r\n            }\r\n\r\n\r\n\r\n        </motion.div>\r\n    )\r\n}\r\n","\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport './ToolPanel.scss';\r\nimport { VscPreview } from \"react-icons/vsc\";\r\nimport { FiChevronDown, FiImage, FiUsers, FiMenu } from \"react-icons/fi\";\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Colors from '../Colors/Colors';\r\nimport { BiStar } from \"react-icons/bi\";\r\nimport { loadBoard, searchCard, updateBoard } from '../../store/actions/boardActions';\r\nimport { HiPlus } from \"react-icons/hi\";\r\nimport { FiX, FiCheck, FiSearch } from 'react-icons/fi';\r\nimport { motion } from \"framer-motion\";\r\nimport Members from './../Members/Members';\r\n\r\nexport default function ToolPanel({ showBoardsMenu, load, setCreateBoard, showRightMenu }) {\r\n    const dispatch = useDispatch();\r\n    const titleRef = useRef();\r\n    const searchRef = useRef();\r\n    const [showColorPalette, setColorPalette] = useState(false);\r\n    const [editTitle, setEditTitle] = useState(false);\r\n    const [isSearch, setIsSearch] = useState(false);\r\n    const [isMembers, setIsMembers] = useState(false);\r\n    const board = useSelector(state => state.boardReducer.board);\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        load();\r\n    }, [board])\r\n\r\n    const toggleColorPalette = (ev) => {\r\n        setColorPalette(palette => !palette);\r\n    }\r\n\r\n    const starBoard = () => {\r\n        const boardCopy = { ...board };\r\n        if (boardCopy.isStarred) boardCopy.isStarred = false;\r\n        else boardCopy.isStarred = true;\r\n        dispatch(updateBoard(boardCopy));\r\n    }\r\n\r\n    const closeEdit = (ev) => {\r\n        ev.stopPropagation();\r\n        setEditTitle(false);\r\n    }\r\n\r\n    const changeBoardTitle = (ev) => {\r\n        ev.stopPropagation();\r\n        if (!titleRef.current.value) return;\r\n        const updatedBoard = { ...board };\r\n        updatedBoard.title = titleRef.current.value;\r\n        dispatch(updateBoard(updatedBoard));\r\n        setEditTitle(false);\r\n    }\r\n\r\n    const pageTransition1 = {\r\n        in: { opacity: 1, y: 0, transition: { duration: 0.2 } },\r\n        out: { opacity: 0, y: -10, }\r\n    };\r\n\r\n    const handleSearch = () => {\r\n        if (searchRef.current.value) {\r\n            dispatch(searchCard(searchRef.current.value, board));\r\n        }\r\n        else {\r\n            dispatch(loadBoard(board._id));\r\n        }\r\n    }\r\n\r\n    const resetSearch = () => {\r\n        setIsSearch(false);\r\n        searchRef.current.value = '';\r\n        dispatch(loadBoard(board._id));\r\n    }\r\n\r\n    return (\r\n        <div className=\"tool-panel flex\">\r\n\r\n            <div className=\"btn flex-center title-edit\" onClick={() => setEditTitle(true)}>\r\n                {!editTitle && <div>\r\n                    <p>{board.title}</p>\r\n                </div>}\r\n\r\n                {editTitle && <motion.div className=\"flex\" initial=\"out\" animate=\"in\" exit=\"out\" variants={pageTransition1}>\r\n                    <input type=\"text\" placeholder=\"Set new title...\" ref={titleRef} defaultValue={board.title} />\r\n                    <div className=\"flex\">\r\n                        <FiCheck style={{ marginLeft: '5px' }} className=\"icon-hov\" onClick={changeBoardTitle} />\r\n                        <div onClick={closeEdit} className=\"flex\">\r\n                            <FiX style={{ marginLeft: '5px' }} className=\"icon-hov\" />\r\n                        </div>\r\n                    </div>\r\n                </motion.div>}\r\n\r\n            </div>\r\n\r\n\r\n\r\n            <div onClick={showBoardsMenu} className=\"btn btn-hover flex-center\">\r\n                <VscPreview />\r\n                <p>Boards</p>\r\n                <FiChevronDown />\r\n            </div>\r\n\r\n\r\n            <div onClick={() => setCreateBoard(true)} className=\"btn btn-hover flex-center\">\r\n                <p>Create board</p>\r\n                <HiPlus />\r\n            </div>\r\n\r\n            <div className=\"color-container\">\r\n                <div className=\"btn btn-hover flex-center\" onClick={toggleColorPalette}>\r\n                    <FiImage />\r\n                    <p>Color</p>\r\n                    <FiChevronDown />\r\n                </div>\r\n                {showColorPalette &&\r\n                    <div className=\"color-palette\">\r\n                        <Colors setColorPalette={setColorPalette} />\r\n                    </div>\r\n                }\r\n            </div>\r\n            <div className=\"btn btn-hover\" onClick={starBoard}>\r\n                <BiStar style={{ fontSize: '1.35rem', color: board.isStarred ? 'yellow' : null }} />\r\n            </div>\r\n\r\n\r\n            <div className=\"btn btn-hover members-container\">\r\n                <div onClick={() => setIsMembers(mem => !mem)} className=\"flex-center\">\r\n                    <FiUsers />\r\n                    <p>Board members</p>\r\n                    <FiChevronDown />\r\n                </div>\r\n\r\n                {isMembers &&\r\n                    <div className=\"member\">\r\n                        <Members setIsMembers={setIsMembers} />\r\n                    </div>\r\n                }\r\n            </div>\r\n\r\n            {!isSearch &&\r\n                <div className=\"btn btn-hover flex\" onClick={() => setIsSearch(true)}>\r\n                    <p>Search card</p>\r\n                    <FiSearch className=\"icon-nr\" />\r\n                </div>\r\n            }\r\n            {isSearch &&\r\n                <motion.div className=\"flex search-input\" initial=\"out\" animate=\"in\" exit=\"out\" variants={pageTransition1}>\r\n                    <input type=\"text\" onChange={handleSearch} ref={searchRef} placeholder=\"Search card...\" />\r\n                    <FiX className=\"icon-search\" onClick={resetSearch} />\r\n                </motion.div>\r\n            }\r\n\r\n            <div className=\"right-menu-btn btn btn-hover flex\">\r\n                <FiMenu onClick={showRightMenu} />\r\n            </div>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n","\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport './Home.scss';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport List from '../../components/List/List';\r\nimport { FiPlus } from \"react-icons/fi\";\r\nimport { FiX } from 'react-icons/fi';\r\nimport { boardService } from './../../services/boardService';\r\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\r\nimport { loadBoard, updateBoard } from '../../store/actions/boardActions';\r\nimport ToolPanel from '../../components/ToolPanel/ToolPanel';\r\nimport { motion } from \"framer-motion\";\r\n\r\nexport default function Home({ load, changeBoard, showBoardsMenu, setMoveCardModal, setCreateBoard,showRightMenu }) {\r\n    const titleRef = useRef();\r\n    const dispatch = useDispatch();\r\n    const [isEditable, setIsEditable] = useState(false);\r\n    const board = useSelector(state => state.boardReducer.board);\r\n\r\n    const setEditable = () => setIsEditable(true);\r\n\r\n    const stopEditing = (ev) => {\r\n        ev.stopPropagation();\r\n        setIsEditable(false);\r\n    }\r\n\r\n    const addNewList = async () => {\r\n        var updatedBoard = await boardService.createList(titleRef.current.value, board, 'list');\r\n        load();\r\n        changeBoard(updatedBoard.board._id);\r\n        setIsEditable(false);\r\n    }\r\n\r\n\r\n    const listDragEnd = (res) => {\r\n        if (!res.destination) return;\r\n        else {\r\n            const newBoard = { ...board };\r\n            const [srcList] = newBoard.lists.splice(res.source.index, 1);\r\n            newBoard.lists.splice(res.destination.index, 0, srcList);\r\n            dispatch(updateBoard(newBoard));\r\n        }\r\n    }\r\n    // const listDragEnd = (res) => {\r\n    //     if (!res.destination) return;\r\n    //     else {\r\n    //         const boardCopy = [...board.lists];\r\n    //         const newBoard = { ...board };\r\n    //         const [srcList] = boardCopy.splice(res.source.index, 1);\r\n    //         boardCopy.splice(res.destination.index, 0, srcList);\r\n    //         newBoard.lists = boardCopy;\r\n    //         dispatch(updateBoard(newBoard));\r\n    //     }\r\n    // }\r\n\r\n    const pageTransition1 = {\r\n        in: { opacity: 1, y: 0, transition: { duration: 0.2 } },\r\n        out: { opacity: 0, y: -10, }\r\n    };\r\n\r\n    return board && (\r\n\r\n        <div className=\"home\">\r\n            <ToolPanel showBoardsMenu={showBoardsMenu} load={load} setCreateBoard={setCreateBoard} showRightMenu={showRightMenu} />\r\n            <DragDropContext onDragEnd={listDragEnd}>\r\n                <Droppable droppableId=\"lists\" direction=\"horizontal\" type=\"column\">\r\n                    {(provided) => (\r\n                        <div className=\"all-lists\" {...provided.droppableProps} ref={provided.innerRef}>\r\n                            {board.lists.map((list, index) => {\r\n                                return (\r\n                                    <Draggable draggableId={list._id} key={list._id} index={index}>\r\n                                        {(provided) => (\r\n                                            <div {...provided.draggableProps} {...provided.dragHandleProps} ref={provided.innerRef}>\r\n                                                <List list={list} key={list._id}\r\n                                                    board={board}\r\n                                                    load={load}\r\n                                                    changeBoard={changeBoard}\r\n                                                    setMoveCardModal={setMoveCardModal} />\r\n                                            </div>\r\n                                        )}\r\n                                    </Draggable>\r\n                                )\r\n                            })}\r\n                            {provided.placeholder}\r\n                            <div className=\"list add\" onClick={setEditable}>\r\n                                {!isEditable && <motion.div className=\"flex add-list\" initial=\"out\" animate=\"in\" exit=\"out\" variants={pageTransition1}>\r\n                                    <FiPlus className=\"icon-nr\" />\r\n                                    <p>Add another list</p>\r\n                                </motion.div>}\r\n\r\n\r\n                                {isEditable &&\r\n                                    <motion.div style={{ position: 'relative' }} className=\"add\" initial=\"out\" animate=\"in\" exit=\"out\" variants={pageTransition1}>\r\n                                        <p>Add list</p>\r\n                                        <div onClick={(ev) => stopEditing(ev)}>\r\n                                            <FiX className=\"close\" />\r\n                                        </div>\r\n                                        <input type=\"text\" placeholder=\"List title...\" ref={titleRef} />\r\n                                        <button onClick={addNewList}>Add</button>\r\n                                    </motion.div>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </Droppable>\r\n            </DragDropContext>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { BiStar, BiTime, BiTrash } from \"react-icons/bi\";\r\nimport './Boards.scss';\r\nimport { FiX } from 'react-icons/fi';\r\nimport { updateBoard } from '../../store/actions/boardActions';\r\nimport { useDispatch } from 'react-redux';\r\nimport { boardService } from '../../services/boardService';\r\n\r\n\r\nexport default function Boards({ boards, changeBoard, closeDropdown, load, board }) {\r\n    const globalRef = useRef();\r\n    const dispatch = useDispatch();\r\n    const [numOfStarredBoards, setNumOfStarredBoards] = useState(0);\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('mousedown', onOutSideClick);\r\n        return () => {\r\n            document.removeEventListener('mousedown', onOutSideClick);\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        countStarredBoards();\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        load();\r\n    }, [board])\r\n\r\n    const handleChangeBoard = (id) => {\r\n        changeBoard(id);\r\n        closeDropdown(false);\r\n    }\r\n\r\n    const onOutSideClick = (ev) => {\r\n        if (globalRef.current && !globalRef.current.contains(ev.target)\r\n            && ev.toElement.outerHTML !== '<p>Boards</p>') {\r\n            closeDropdown(false);\r\n        }\r\n    }\r\n\r\n    const closeMenu = () => closeDropdown(false);\r\n\r\n    const countStarredBoards = () => {\r\n        var count = 0;\r\n        boards.forEach(board => board.isStarred ? count++ : null);\r\n        setNumOfStarredBoards(count);\r\n    }\r\n\r\n    const removeStarred = (ev, board) => {\r\n        ev.stopPropagation();\r\n        const boardCopy = { ...board };\r\n        boardCopy.isStarred = false;\r\n        dispatch(updateBoard(boardCopy));\r\n    }\r\n\r\n    const deleteBoard = async (ev, boardId) => {\r\n        ev.stopPropagation();\r\n        if (boardId !== boards[0]._id) {\r\n            await boardService.removeBoard(boardId);\r\n            load();\r\n            changeBoard(boards[0]._id);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"boards-dropdown\" ref={globalRef}>\r\n            <FiX className=\"close\" style={{ margin: '5px' }} onClick={closeMenu} />\r\n            <div className=\"starred\">\r\n                <div className=\"flex title\">\r\n                    <BiStar className=\"icon-nr\" />\r\n                    <p>Starred boards</p>\r\n                </div>\r\n                {numOfStarredBoards <= 0 ?\r\n                    <div className=\"no-boards\">\r\n                        <p>Star your most important boards to keep them right at your fingertips.</p>\r\n                    </div>\r\n\r\n                    :\r\n                    <div>\r\n                        {boards.map(board => {\r\n                            return board.isStarred && (\r\n                                <div className=\"boards-list flex\" key={board._id} onClick={() => handleChangeBoard(board._id)}>\r\n                                    <div className=\"flex\">\r\n                                        <div className=\"board-color\" style={{ backgroundColor: board.styles.background }}></div>\r\n                                        <p >{board.title}</p>\r\n                                    </div>\r\n                                    <div className=\"trash flex\" onClick={(ev) => removeStarred(ev, board)}><BiTrash /></div>\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                }\r\n            </div>\r\n\r\n            <div>\r\n                <div className=\"timer\">\r\n                    <div className=\"flex title\">\r\n                        <BiTime className=\"icon-nr\" />\r\n                        <p>Recent boards</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div>\r\n                    {boards.map(board => {\r\n                        return (\r\n                            <div className=\"boards-list flex\" onClick={() => handleChangeBoard(board._id)} key={board._id} >\r\n                                <div className=\"flex\">\r\n                                    <div className=\"board-color\" style={{ backgroundImage: board.styles.img ? `url(${board.styles.img})` : null, backgroundColor: !board.styles.img ? board.styles.background : null, backgroundSize: \"2rem\", backgroundRepeat: 'no-repeat' }}></div>\r\n                                    <p>{board.title}</p>\r\n                                </div>\r\n                                <div className=\"del-list\">\r\n                                    <FiX className=\"flex\" onClick={(ev) => deleteBoard(ev, board._id)} />\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport './MoveCardModal.scss';\r\nimport { FiX } from 'react-icons/fi';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { motion } from \"framer-motion\";\r\nimport { updateBoard } from '../../store/actions/boardActions';\r\n\r\nexport default function MoveCardModal({ board, setMoveCardModal }) {\r\n    const listRef = useRef();\r\n    const dispatch = useDispatch();\r\n    const card = useSelector(state => state.boardReducer.card);\r\n    const list = useSelector(state => state.boardReducer.list);\r\n\r\n    useEffect(() => {\r\n    }, [board]);\r\n\r\n    const moveCard = () => {\r\n        const listToMoveId = listRef.current.value;\r\n        const boardCopy = { ...board };\r\n        const listIdx = boardCopy.lists.findIndex(currList => currList._id === list._id);\r\n        const cardIdx = boardCopy.lists[listIdx].cards.findIndex(currCard => currCard._id === card._id);\r\n        const [cardToMove] = boardCopy.lists[listIdx].cards.splice(cardIdx, 1);\r\n        const newListIdx = boardCopy.lists.findIndex(currList => currList._id === listToMoveId);\r\n        boardCopy.lists[newListIdx].cards.unshift(cardToMove);\r\n        dispatch(updateBoard(boardCopy));\r\n        setMoveCardModal(false);\r\n    }\r\n\r\n    const pageTransition1 = {\r\n        in: { opacity: 1, y: 0, transition: { duration: 0.2 } },\r\n        out: { opacity: 0, y: -10, }\r\n    };\r\n\r\n    return (\r\n        <motion.div className=\"move-card-modal create-board\" initial=\"out\" animate=\"in\" exit=\"out\" variants={pageTransition1}>\r\n            <FiX className=\"close\" onClick={() => setMoveCardModal(false)} style={{margin:'5px'}}/>\r\n            <p>Select list to move card</p>\r\n            <select ref={listRef}>\r\n                {board.lists.map(list => {\r\n                    return <option key={list._id} value={list._id}>{list.title}</option>\r\n                })}\r\n            </select>\r\n            <button onClick={moveCard}>Move card</button>\r\n        </motion.div>\r\n    )\r\n}\r\n","\r\nimport React from 'react';\r\nimport './Particles.scss';\r\n\r\nexport default function Particles() {\r\n    return (\r\n        <div id=\"particle-container\">\r\n            <div className=\"particle\"></div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Particles from '../../components/Particles/Particles';\r\nimport './Welcome.scss';\r\nimport { motion } from \"framer-motion\";\r\n\r\nexport default function Welcome() {\r\n    const pageTransition1 = {\r\n        in: { opacity: 1, y: 0, transition: { duration: 0.2 } },\r\n        out: { opacity: 0, y: -10, }\r\n    };\r\n    return (\r\n        <div className=\"welcome\">\r\n            <Particles />\r\n            <motion.div className=\"text flex\" initial=\"out\" animate=\"in\" exit=\"out\" variants={pageTransition1}>\r\n                <h1>Trevo helps teams move work forward.</h1>\r\n                <p>\r\n                    Collaborate, manage projects, and reach new productivity peaks. from high rises to the home office,\r\n                    the way your team works is unique-accomplish it all with Trevo.\r\n                </p>\r\n                <div className=\"flex text-second\">\r\n                    <Link to=\"/board\" className=\"start\">Start Now</Link>\r\n                    <Link to=\"/signup\" className=\"start\">Signup</Link>\r\n                    <Link to=\"/login\" className=\"ask\">Already a member? Login!</Link>\r\n                </div>\r\n            </motion.div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","\r\n\r\nimport React, { useRef, useState } from 'react';\r\nimport Particles from '../../components/Particles/Particles';\r\nimport './Signup.scss';\r\nimport { userService } from './../../services/userService';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setLoggedUser } from '../../store/actions/userActions';\r\nimport { useHistory } from 'react-router';\r\nimport { motion } from \"framer-motion\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Signup() {\r\n    const emailRef = useRef();\r\n    const passRef = useRef();\r\n    const nameRef = useRef();\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const [isError, setIsError] = useState(false);\r\n    const [errorMsg, setErrorMsg] = useState('');\r\n    const user = useSelector(state => state.userReducer.user);\r\n\r\n    const newSignup = async (ev) => {\r\n        ev.preventDefault();\r\n        const user = await userService.signup(\r\n            nameRef.current.value, emailRef.current.value, passRef.current.value);\r\n        if (user && !user.error) {\r\n            const user = await userService.login(emailRef.current.value, passRef.current.value);\r\n            dispatch(setLoggedUser(user));\r\n            history.push('/');\r\n        }\r\n        else {\r\n            setErrorMsg(user.error);\r\n            setIsError(true);\r\n            var interval = setInterval(() => {\r\n                setIsError(false);\r\n                clearInterval(interval);\r\n            }, 3000)\r\n        }\r\n    }\r\n\r\n    const pageTransition1 = {\r\n        in: { opacity: 1, y: 0, transition: { duration: 0.2 } },\r\n        out: { opacity: 0, y: -10, }\r\n    };\r\n\r\n    return (\r\n        <div className=\"welcome\">\r\n            <Particles />\r\n            {user &&\r\n                <div className=\"flex-center\" style={{ marginTop: '2rem', flexDirection: 'column' }}>\r\n                    <p>You are already signed up.</p>\r\n                    <Link to=\"/\" className=\"btn-link\">Return</Link>\r\n                </div>\r\n            }\r\n            {!user &&\r\n                <motion.form className=\"signup flex-center\" onSubmit={newSignup} initial=\"out\" animate=\"in\" exit=\"out\" variants={pageTransition1}>\r\n                    <h1>Signup</h1>\r\n                    <div className=\"username\">\r\n                        <p>Full name:</p>\r\n                        <input type=\"text\" required placeholder=\"Enter full name...\" ref={nameRef} />\r\n                    </div>\r\n                    <div className=\"email\">\r\n                        <p>Email:</p>\r\n                        <input type=\"email\" required placeholder=\"Enter your email...\" ref={emailRef} />\r\n                    </div>\r\n                    <div className=\"password\">\r\n                        <p>Password:</p>\r\n                        <input type=\"password\" required placeholder=\"Enter new password...\" ref={passRef} />\r\n                    </div>\r\n                    <button>Signup</button>\r\n                    {isError && <p className=\"err\">{errorMsg}</p>}\r\n                </motion.form>\r\n            }\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n","\r\nimport React, { useRef, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router';\r\nimport Particles from '../../components/Particles/Particles';\r\nimport { userService } from '../../services/userService';\r\nimport { setLoggedUser } from '../../store/actions/userActions';\r\nimport { motion } from \"framer-motion\";\r\nimport './Login.scss';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Login() {\r\n    const emailRef = useRef();\r\n    const passRef = useRef();\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const [isError, setIsError] = useState(false);\r\n    const [errorMsg, setErrorMsg] = useState('');\r\n    const user = useSelector(state => state.userReducer.user);\r\n\r\n    const newLogin = async () => {\r\n        const user = await userService.login(emailRef.current.value, passRef.current.value);\r\n        if (user && !user.error) {\r\n            dispatch(setLoggedUser(user));\r\n            history.push('/');\r\n        }\r\n        else {\r\n            setErrorMsg(user.error);\r\n            setIsError(true);\r\n            var interval = setInterval(() => {\r\n                setIsError(false);\r\n                clearInterval(interval);\r\n            }, 3000)\r\n        }\r\n    }\r\n\r\n    const pageTransition1 = {\r\n        in: { opacity: 1, y: 0, transition: { duration: 0.2 } },\r\n        out: { opacity: 0, y: -10, }\r\n    };\r\n\r\n\r\n    return (\r\n        <div className=\"welcome\">\r\n            <Particles />\r\n            {user &&\r\n                <div className=\"flex-center\" style={{ marginTop: '2rem',flexDirection:'column' }}>\r\n                    <p>You are already logged in.</p>\r\n                    <Link to=\"/\" className=\"btn-link\">Return</Link>\r\n                </div>\r\n            }\r\n            {!user &&\r\n                <motion.div className=\"login flex-center\" initial=\"out\" animate=\"in\" exit=\"out\" variants={pageTransition1}>\r\n                    <h1>Login</h1>\r\n                    <div className=\"email\">\r\n                        <p>Email:</p>\r\n                        <input type=\"email\" placeholder=\"Enter your email...\" ref={emailRef} defaultValue=\"test@trevo.com\" />\r\n                    </div>\r\n                    <div className=\"password\">\r\n                        <p>Password:</p>\r\n                        <input type=\"password\" placeholder=\"Enter your password...\" ref={passRef} defaultValue=\"123\" />\r\n                    </div>\r\n                    <button onClick={newLogin}>Login</button>\r\n                    {isError && <p className=\"err\">{errorMsg}</p>}\r\n                </motion.div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","\r\nexport const imgService = {\r\n    imgs\r\n}\r\n\r\n\r\nfunction imgs() {\r\n    return [\r\n        \"https://images.unsplash.com/photo-1541701494587-cb58502866ab?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80\",\r\n        \"https://images.unsplash.com/photo-1567095751004-aa51a2690368?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80\",\r\n        \"https://images.unsplash.com/photo-1538673719418-0367029d6f2e?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=2034&q=80\",\r\n        \"https://images.unsplash.com/photo-1502481851512-e9e2529bfbf9?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80\",\r\n        \"https://images.unsplash.com/photo-1517052269751-4ae3ad86cc59?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=2089&q=80\",\r\n        \"https://images.unsplash.com/photo-1612892483236-52d32a0e0ac1?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80\",\r\n        \"https://images.unsplash.com/photo-1507608869274-d3177c8bb4c7?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80\",\r\n        \"https://images.unsplash.com/photo-1618141638308-e2d6ce729716?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80\",\r\n        \"https://images.unsplash.com/photo-1603976487252-5f1cee35fe6e?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1951&q=80\",\r\n        \"https://images.unsplash.com/photo-1546083381-2bed38b42cac?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80\",\r\n        \"https://images.unsplash.com/photo-1563089145-599997674d42?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80\",\r\n        \"https://images.unsplash.com/photo-1554668036-b85c20687cad?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80\",\r\n        \"https://images.unsplash.com/photo-1488928741225-2aaf732c96cc?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80\",\r\n        \"https://images.unsplash.com/photo-1428353077903-d09b3e000f37?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1947&q=80\",\r\n        \"https://images.unsplash.com/photo-1588392382834-a891154bca4d?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1955&q=80\",\r\n        \"https://images.unsplash.com/photo-1497436072909-60f360e1d4b1?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2089&q=80\",\r\n        \"https://images.unsplash.com/photo-1552082919-e60010758c47?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80\",\r\n        \"https://images.unsplash.com/photo-1489861518096-4d12b732e831?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=2007&q=80\"\r\n    ]\r\n}","import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport './RightMenu.scss';\r\nimport { imgService } from './../../services/imgService';\r\nimport { updateBoard } from './../../store/actions/boardActions';\r\nimport { motion } from \"framer-motion\";\r\nimport { FiImage } from 'react-icons/fi';\r\n\r\nexport default function RightMenu() {\r\n    const dispatch = useDispatch();\r\n    const [showImgs, setShowImgs] = useState(false);\r\n    const board = useSelector(state => state.boardReducer.board);\r\n\r\n\r\n    const setNewBackground = (img) => {\r\n        const newBoard = { ...board };\r\n        newBoard.styles.img = img;\r\n        dispatch(updateBoard(newBoard));\r\n    }\r\n\r\n    const pageTransition1 = {\r\n        in: { opacity: 1, y: 0, transition: { duration: 0.2 } },\r\n        out: { opacity: 0, y: -10, }\r\n    };\r\n\r\n    return (\r\n        <motion.div className=\"right-menu\" initial=\"out\" animate=\"in\" exit=\"out\" variants={pageTransition1}>\r\n            <div className=\"title\">\r\n                <p>Board Options</p>\r\n            </div>\r\n            <div className=\"item-list flex\" onClick={() => setShowImgs(img => !img)}>\r\n                <FiImage className=\"icon-nr\" />\r\n                <p>Background Images</p>\r\n            </div>\r\n            {showImgs &&\r\n                <motion.div className=\"imgs-container\" initial=\"out\" animate=\"in\" exit=\"out\" variants={pageTransition1}>\r\n                    {imgService.imgs().map(img => {\r\n                        return (\r\n                            <div className=\"menu-img-select\" key={img}>\r\n                                <img src={img} onClick={() => setNewBackground(img)}></img>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </motion.div>\r\n            }\r\n        </motion.div>\r\n    )\r\n}\r\n","import { useEffect, useState, userReducer } from 'react';\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\nimport CreateBoard from './components/CreateBoard/CreateBoard';\nimport Navbar from './components/Navbar/Navbar';\nimport Home from './pages/Home/Home';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { loadBoard, loadBoards } from './store/actions/boardActions';\nimport Boards from './components/Boards/Boards';\nimport MoveCardModal from './components/MoveCard/MoveCardModal';\nimport { motion } from \"framer-motion\";\nimport Welcome from './pages/Welcome/Welcome';\nimport Signup from './pages/Signup/Signup';\nimport Login from './pages/Login/Login';\nimport { setLoggedUser } from './store/actions/userActions';\nimport Members from './components/Members/Members';\nimport RightMenu from './components/RightMenu/RightMenu';\n\n\nfunction App() {\n    const dispatch = useDispatch();\n    const [createBoard, setCreateBoard] = useState(false);\n    const [moveCard, setMoveCardModal] = useState(false);\n    const [boardsDropdown, setBoardsDropdown] = useState(false);\n    const [rightMenu, setRightMenu] = useState(false);\n    const boards = useSelector(state => state.boardReducer.boards);\n    const board = useSelector(state => state.boardReducer.board);\n    const user = useSelector(state => state.userReducer.user);\n\n\n    useEffect(() => {\n        load();\n    }, [])\n\n    const createNewBoard = () => setCreateBoard(createBoard => !createBoard);\n    const showBoardsMenu = () => setBoardsDropdown(boards => !boards);\n    const showRightMenu = () => setRightMenu(menu => !menu);\n    const changeBoard = (id) => dispatch(loadBoard(id));\n\n    const load = () => {\n        dispatch(loadBoards());\n    }\n\n    const pageTransition = {\n        in: {\n            opacity: 1,\n            x: 0,\n            transition: { duration: 0.2 }\n        },\n        out: {\n            opacity: 0,\n            x: \"-10%\",\n        }\n    };\n\n\n    return boards && board && (\n        <div style={{ backgroundImage: board.styles.img ? `url(${board.styles.img})` : null, backgroundColor: !board.styles.img ? board.styles.background : null,backgroundRepeat:'no-repeat',backgroundPosition:'center',backgroundAttachment:'fixed' }}>\n\n            {createBoard &&\n                <div className=\"create-board-container\">\n                    <CreateBoard setCreateBoard={setCreateBoard}\n                        user={user}\n                        changeBoard={changeBoard} load={load} />\n                </div>\n            }\n            {moveCard &&\n                <div className=\"create-board-container\">\n                    <MoveCardModal board={board} setMoveCardModal={setMoveCardModal} />\n                </div>\n            }\n\n            {boardsDropdown &&\n                <motion.div className=\"z-pos\" initial=\"out\" animate=\"in\" exit=\"out\" variants={pageTransition}>\n                    <Boards boards={boards}\n                        changeBoard={changeBoard}\n                        closeDropdown={setBoardsDropdown}\n                        load={load}\n                        board={board} />\n                </motion.div>}\n\n            {rightMenu &&\n                <div>\n                    <RightMenu />\n                </div>\n            }\n\n            <Router>\n                <Navbar\n                    user={user}\n                    showBoardsMenu={showBoardsMenu} />\n\n                <Switch>\n                    <Route exact path=\"/\" render={props => <Welcome {...props} />}></Route>\n                    <Route exact path=\"/signup\" render={props => <Signup {...props} />}></Route>\n                    <Route exact path=\"/login\" render={props => <Login {...props} />}></Route>\n                    <Route exact path=\"/board\" render={props => <Home {...props}\n                        load={load}\n                        changeBoard={changeBoard}\n                        showBoardsMenu={showBoardsMenu}\n                        setMoveCardModal={setMoveCardModal}\n                        setCreateBoard={setCreateBoard}\n                        showRightMenu={showRightMenu}\n                    />}>\n                    </Route>\n                </Switch>\n            </Router>\n\n        </div>\n    );\n}\n\nexport default App;\n","import IMG from '../../assets/profile img.jpg';\r\n\r\nconst INITIAL_STATE = {\r\n    boards: [],\r\n    board: null,\r\n    card: null,\r\n    list: null,\r\n}\r\n\r\nexport function boardReducer(state = INITIAL_STATE, action) {\r\n    switch (action.type) {\r\n        case 'SET_BOARDS': {\r\n            return {\r\n                ...state,\r\n                boards: action.boards,\r\n                board: !state.board ? state.board = action.boards[0] : state.board\r\n            }\r\n        }\r\n        case 'SEARCH_CARD': {\r\n            const newBoard = { ...state.board };\r\n            const findSearch = state.board.lists.filter(list =>\r\n                list.cards.find(card =>\r\n                    card.title.toLowerCase().includes(action.txt)));\r\n            newBoard.lists = findSearch;\r\n            return {\r\n                ...state,\r\n                board: newBoard\r\n            }\r\n        }\r\n        case 'SET_BOARD': {\r\n            return {\r\n                ...state,\r\n                board: action.board\r\n            }\r\n        }\r\n        case 'UPDATE_BOARD': {\r\n            return {\r\n                ...state,\r\n                board: action.board\r\n            }\r\n        }\r\n        case 'MOVE_LIST': {\r\n            return {\r\n                ...state,\r\n                board: action.board\r\n            }\r\n        }\r\n        case 'SET_CARD': {\r\n            return {\r\n                ...state,\r\n                card: action.card\r\n            }\r\n        }\r\n        case 'SET_LIST': {\r\n            return {\r\n                ...state,\r\n                list: action.list\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}","export default __webpack_public_path__ + \"static/media/profile img.b552d7c1.jpg\";","var localLoggedInUser = null;\r\nif (sessionStorage.user) localLoggedInUser = JSON.parse(sessionStorage.user);\r\n\r\nconst INITIAL_STATE = {\r\n    users: [],\r\n    user: localLoggedInUser,\r\n}\r\n\r\nexport function userReducer(state = INITIAL_STATE, action) {\r\n    switch (action.type) {\r\n        case 'SET_USERS': {\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        }\r\n        case 'LOGIN_USER': {\r\n            return {\r\n                ...state,\r\n                user: action.user\r\n            }\r\n        }\r\n        case 'LOGOUT': {\r\n            return {\r\n                ...state,\r\n                user: null\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}","\r\nimport { createStore, applyMiddleware, compose, combineReducers } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { boardReducer } from './reducers/boardReducer';\r\nimport { userReducer } from './reducers/userReducer';\r\n\r\n\r\n\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n    boardReducer,\r\n    userReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './global.scss';\nimport App from './App.jsx';\nimport { Provider } from 'react-redux';\nimport { store } from './store/index';\n\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n"],"sourceRoot":""}
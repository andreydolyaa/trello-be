(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{51:function(e,t,n){},53:function(e,t,n){},73:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),a=n(23),i=n.n(a),s=(n(51),n(3)),o=n(8),u=n(11),l=n(10),d=n(5),j=n.n(d),b=n(9),f=(n(53),n(7)),x=n(19),O=n.n(x),p="/api/board",m={loadBoards:function(){return h.apply(this,arguments)},loadBoard:v,createBoard:function(e,t){return y.apply(this,arguments)},createList:function(e,t,n){return C.apply(this,arguments)},createCard:function(e,t,n,c){return _.apply(this,arguments)},removeList:function(e,t){return M.apply(this,arguments)},update:w,moveList:function(e,t,n){return S.apply(this,arguments)},removeBoard:function(e){return g.apply(this,arguments)},addAction:function(e,t){return B.apply(this,arguments)}};function h(){return(h=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get(p);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return N.apply(this,arguments)}function N(){return(N=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat(p,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(b.a)(j.a.mark((function e(t,n){var c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={boardTitle:t,user:n},e.next=3,O.a.post("".concat(p),c);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.delete("".concat(p,"/").concat(t));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return k.apply(this,arguments)}function k(){return(k=Object(b.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={board:t,type:"board"},e.next=3,O.a.put("".concat(p,"/").concat(t._id),n);case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(b.a)(j.a.mark((function e(t,n,c){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={listTitle:t,board:n,type:c},e.next=3,O.a.put("".concat(p,"/").concat(n._id),r);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(b.a)(j.a.mark((function e(t,n,c,r){var a,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={board:t,list:n,txt:c,type:r},e.next=3,O.a.put("".concat(p,"/").concat(t._id),a);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(b.a)(j.a.mark((function e(t,n){var c,r,a,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.lists.findIndex((function(e){return e._id===n._id})),(r=Object(s.a)({},t)).lists.splice(c,1),a={board:r,type:"remove"},e.next=6,O.a.put("".concat(p,"/").concat(t._id),a);case 6:return i=e.sent,e.abrupt("return",i.data);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(b.a)(j.a.mark((function e(t,n,c){var r,a,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:return r=e.sent,e.next=5,v(n);case 5:if(a=e.sent,!r){e.next=11;break}return i=r.lists.findIndex((function(e){return e._id===c._id})),r.lists.splice(i,1),e.next=11,w(r);case 11:if(!a){e.next=15;break}return a.lists.unshift(c),e.next=15,w(a);case 15:return e.abrupt("return",r);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(b.a)(j.a.mark((function e(t,n){var c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t._id);case 2:return c=e.sent,r=Object(s.a)({},t),c.actions.length<=50?r.actions.unshift(n):r.actions.splice(c.action.length,1,n),e.next=7,w(r);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=n(98),R=n(1);function D(e){var t=e.setCreateBoard,n=e.user,r=e.changeBoard,a=e.load,i=Object(c.useRef)(),s=Object(c.useRef)();Object(c.useEffect)((function(){return document.addEventListener("mousedown",u),function(){document.removeEventListener("mousedown",u)}}),[]);var o=function(){var e=Object(b.a)(j.a.mark((function e(){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.createBoard(i.current.value,n);case 2:c=e.sent,t(!1),a(),r(c._id);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(e){s.current&&!s.current.contains(e.target)&&t(!1)};return Object(R.jsxs)(E.a.div,{className:"create-board",ref:s,initial:"out",animate:"in",exit:"out",variants:{in:{opacity:1,x:0,transition:{duration:.2}},out:{opacity:0,x:"-10%"}},children:[Object(R.jsx)("div",{className:"close",onClick:function(){return t(!1)},children:Object(R.jsx)(f.j,{})}),Object(R.jsxs)("div",{className:"flex-center",children:[Object(R.jsx)(f.h,{className:"icon-nr"}),Object(R.jsx)("p",{children:"Create Board"})]}),Object(R.jsxs)("div",{className:"flex",children:[Object(R.jsx)("p",{children:"Board Title:"}),Object(R.jsx)("input",{type:"text",ref:i,defaultValue:"New Board"})]}),Object(R.jsx)("div",{children:Object(R.jsx)("button",{onClick:o,children:"Create"})})]})}n(73);var H=n(6),A="/api/user",I={loadUsers:function(){return L.apply(this,arguments)},signup:function(e,t,n){return T.apply(this,arguments)},login:function(e,t){return G.apply(this,arguments)}};function L(){return(L=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get(A);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(b.a)(j.a.mark((function e(t,n,c){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={fullName:t,email:n,password:c},e.next=3,O.a.post("".concat(A,"/signup"),r);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return(G=Object(b.a)(j.a.mark((function e(t,n){var c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={email:t,password:n},e.next=3,O.a.post("".concat(A,"/login"),c);case 3:if(!(r=e.sent).data.error){e.next=8;break}return e.abrupt("return",{error:"Wrong password or email!"});case 8:return e.abrupt("return",F(r.data));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return sessionStorage.setItem("user",JSON.stringify(e)),e}function V(e){return function(t){t({type:"LOGIN_USER",user:e})}}function Y(e){var t=e.user,n=Object(H.c)();return Object(R.jsxs)("div",{className:"user",children:[t&&Object(R.jsxs)("div",{className:"user-details flex-center",children:[Object(R.jsxs)("div",{style:{position:"relative"},children:[Object(R.jsx)("p",{className:"name",children:t.fullName}),Object(R.jsx)("p",{className:"email",children:t.email})]}),Object(R.jsx)("p",{children:"|"}),Object(R.jsx)("p",{onClick:function(){sessionStorage.clear(),n((function(e){e({type:"LOGOUT"})}))},className:"logout",children:"Logout"})]}),!t&&Object(R.jsxs)("div",{className:"log flex-center",children:[Object(R.jsx)(u.b,{to:"/login",children:"Login"}),Object(R.jsx)("p",{style:{color:"#fff"},children:"|"}),Object(R.jsx)(u.b,{to:"/signup",children:"Signup"})]})]})}n(79);function q(e){var t=e.user,n=Object(l.f)(),c=Object(l.g)();return Object(R.jsxs)("div",{className:"navbar",style:{backgroundColor:"/"===c.pathname?"#1B5088":"rgba(252, 252, 252, 0.2)"},children:[Object(R.jsxs)("div",{className:"title flex-center",children:[Object(R.jsx)("h1",{onClick:function(){return n.push("/")},children:"Trevo"}),Object(R.jsxs)("div",{children:[Object(R.jsx)(u.b,{to:"/",children:"Home"}),Object(R.jsx)(u.b,{to:"/board",children:"Boards"})]})]}),Object(R.jsx)(Y,{user:t})]})}n(80),n(81);var P=n(27);var W={createId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:24,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=n.length,r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*c));return t}},U=n(44),z=n.n(U);function J(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.loadBoard(e);case 2:c=t.sent,n({type:"SET_BOARD",board:c});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function X(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.update(e);case 2:c=t.sent,n({type:"UPDATE_BOARD",board:c});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function K(e,t,n){return function(){var c=Object(b.a)(j.a.mark((function c(r){var a;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,m.moveList(e,t,n);case 2:a=c.sent,r({type:"MOVE_LIST",board:a});case 4:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}function Q(e,t,n){var c=z()().format("MMMM Do YYYY, h:mm:ss a");return function(){var r=Object(b.a)(j.a.mark((function r(a){var i,s;return j.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i={id:W.createId(),user:n?n.fullName:"Anonymous",time:c,actionType:t},r.next=3,m.addAction(e,i);case 3:s=r.sent,a({type:"SET_ACTION",updatedBoard:s});case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}n(83);var Z=null;sessionStorage.user&&(Z=JSON.parse(sessionStorage.user));var $={users:[],user:Z};function ee(e){var t=e.card,n=e.board,r=e.list,a=e.setShowEditCard,i=e.setShowCardActions,u=e.setMoveCardModal,l=e.setShowIcon,d=Object(H.c)(),j=Object(c.useRef)(),b=Object(c.useState)(!1),x=Object(o.a)(b,2),O=x[0],p=x[1],m=Object(c.useState)(!1),h=Object(o.a)(m,2),v=h[0],N=h[1],y=Object(c.useState)(!1),g=Object(o.a)(y,2),w=g[0],k=g[1],C=Object(H.d)((function(e){return e.userReducer.user}));Object(c.useEffect)((function(){}),[t,n,r]);var _=function(e){var c=Object(s.a)({},n),a=c.lists.findIndex((function(e){return e._id===r._id})),i=r.cards.findIndex((function(e){return e._id===t._id}));c.lists[a].cards[i].styles.background=e,M(c),d(Q(n,"changed card color",C))},M=function(e){d(X(e)),i(!1),l(!1)},S={in:{opacity:1,y:0,transition:{duration:.2}},out:{opacity:0,y:-10}},B=function(e){var c={id:W.createId(),labelColor:e},a=Object(s.a)({},n),i=a.lists.findIndex((function(e){return e._id===r._id})),o=r.cards.findIndex((function(e){return e._id===t._id}));a.lists[i].cards[o].labels.some((function(t){return t.labelColor===e}))||(a.lists[i].cards[o].labels.push(c),d(Q(n,"added a label",C)),M(a))};return Object(R.jsxs)("div",{className:"card-actions",children:[Object(R.jsx)(f.j,{className:"close-new",style:{margin:"3px"},onClick:function(){i(!1),l(!1)}}),Object(R.jsx)("div",{className:"title",children:"Card actions"}),Object(R.jsx)("div",{className:"option",onClick:function(){var e=Object(s.a)({},n),c=e.lists.findIndex((function(e){return e._id===r._id})),a=r.cards.findIndex((function(e){return e._id===t._id}));e.lists[c].cards.splice(a,1),d(X(e)),l(!1),d(Q(n,"deleted card",C))},children:"Delete this card"}),Object(R.jsx)("div",{className:"option",onClick:function(){return a((function(e){return!e}))},children:"Edit this card"}),Object(R.jsx)("div",{className:"option",onClick:function(){return k((function(e){return!e}))},children:"Add Label"}),w&&Object(R.jsxs)(E.a.div,{initial:"out",animate:"in",exit:"out",variants:S,children:[Object(R.jsx)("div",{className:"color",style:{backgroundColor:"#86E42E"},onClick:function(){return B("#86E42E")}}),Object(R.jsx)("div",{className:"color",style:{backgroundColor:"#FCDD53"},onClick:function(){return B("#FCDD53")}}),Object(R.jsx)("div",{className:"color",style:{backgroundColor:"#FF5757"},onClick:function(){return B("#FF5757")}})]}),Object(R.jsx)("div",{className:"option",onClick:function(){return p((function(e){return!e}))},children:"Color this card"}),O&&Object(R.jsxs)(E.a.div,{initial:"out",animate:"in",exit:"out",variants:S,children:[Object(R.jsx)("div",{className:"color",style:{backgroundColor:"#F8D086"},onClick:function(){return _("#F8D086")}}),Object(R.jsx)("div",{className:"color",style:{backgroundColor:"#94F7A9"},onClick:function(){return _("#94F7A9")}}),Object(R.jsx)("div",{className:"color",style:{backgroundColor:"#86CEF8"},onClick:function(){return _("#86CEF8")}}),Object(R.jsx)("div",{className:"color",style:{backgroundColor:"#AF86F8"},onClick:function(){return _("#AF86F8")}}),Object(R.jsx)("div",{className:"color",style:{backgroundColor:"#FC5757"},onClick:function(){return _("#FC5757")}}),Object(R.jsx)("div",{className:"color",style:{backgroundColor:"#fff"},onClick:function(){return _("#fff")}})]}),Object(R.jsx)("div",{className:"option",onClick:function(){u((function(e){return!e})),i(!1),d(function(e){return function(t){t({type:"SET_CARD",card:e})}}(t)),d(function(e){return function(t){t({type:"SET_LIST",list:e})}}(r)),l(!1)},children:"Move to other list"}),Object(R.jsx)("div",{className:"option",onClick:function(){var e=Object(s.a)({},n),c=Object(s.a)({},t),a=e.lists.findIndex((function(e){return e._id===r._id})),i=r.cards.findIndex((function(e){return e._id===t._id}));c._id=W.createId(),e.lists[a].cards.splice(i+1,0,c),M(e),d(Q(n,"copied card",C))},children:"Copy this card"}),Object(R.jsx)("div",{className:"option",onClick:function(){return N((function(e){return!e}))},children:"Add image"}),v&&Object(R.jsxs)(E.a.div,{className:"img-upload",initial:"out",animate:"in",exit:"out",variants:S,children:[Object(R.jsx)("input",{type:"text",placeholder:"Image url...",ref:j}),Object(R.jsx)("button",{onClick:function(){var e=j.current.value,c=Object(s.a)({},n),a=c.lists.findIndex((function(e){return e._id===r._id})),i=r.cards.findIndex((function(e){return e._id===t._id}));c.lists[a].cards[i].img=e,M(c),d(Q(n,"added image",C))},children:"Add"})]})]})}function te(e){var t=e.card,n=e.board,r=e.list,a=e.setMoveCardModal,i=Object(c.useRef)(),u=Object(c.useRef)(),l=Object(H.c)(),d=Object(c.useState)(!1),j=Object(o.a)(d,2),b=j[0],x=j[1],O=Object(c.useState)(!1),p=Object(o.a)(O,2),m=p[0],h=p[1],v=Object(c.useState)(!1),N=Object(o.a)(v,2),y=N[0],g=N[1],w=Object(H.d)((function(e){return e.userReducer.user}));Object(c.useEffect)((function(){}),[t,n,r]),Object(c.useEffect)((function(){return document.addEventListener("mousedown",k),function(){document.removeEventListener("mousedown",k)}}),[]);var k=function(e){i.current&&!i.current.contains(e.target)&&h(!1)};return Object(R.jsxs)(E.a.div,{className:"card",onMouseEnter:function(){return x(!0)},onMouseLeave:function(){return x(!1)},ref:i,style:{backgroundColor:t.styles.background},initial:"out",animate:"in",exit:"out",variants:{in:{opacity:1,y:0,transition:{duration:.2}},out:{opacity:0,y:-10}},children:[y&&Object(R.jsxs)(E.a.div,{className:"edit-card",initial:"out",animate:"in",exit:"out",variants:{in:{opacity:1,y:0,transition:{duration:.4}},out:{opacity:0,y:-10}},children:[Object(R.jsx)("textarea",{defaultValue:t.title,ref:u}),t.img&&Object(R.jsxs)("div",{className:"img-container flex-center",children:[Object(R.jsx)("img",{src:t.img}),Object(R.jsx)("div",{className:"delete-image",onClick:function(){var e=Object(s.a)({},n),c=e.lists.findIndex((function(e){return e._id===r._id})),a=r.cards.findIndex((function(e){return e._id===t._id}));delete e.lists[c].cards[a].img,l(X(e))},children:"Delete image"})]}),Object(R.jsxs)("div",{className:"flex",children:[Object(R.jsx)("button",{onClick:function(){var e=Object(s.a)({},n),c=e.lists.findIndex((function(e){return e._id===r._id})),a=r.cards.findIndex((function(e){return e._id===t._id}));e.lists[c].cards[a].title=u.current.value,l(X(e)),g(!1),h(!1),x(!1)},children:"Save"}),Object(R.jsx)(f.j,{className:"icon-close",onClick:function(){g(!1),h(!1),x(!1)}})]})]}),!y&&Object(R.jsxs)("div",{children:[Object(R.jsx)("div",{className:"labels",children:t.labels.map((function(e){return Object(R.jsx)("div",{className:"label",style:{backgroundColor:e.labelColor},onClick:function(){return function(e){var c=Object(s.a)({},n),a=c.lists.findIndex((function(e){return e._id===r._id})),i=r.cards.findIndex((function(e){return e._id===t._id})),o=c.lists[a].cards[i].labels.findIndex((function(t){return t.id===e}));c.lists[a].cards[i].labels.splice(o,1),l(X(c)),l(Q(n,"removed a label",w))}(e.id)}},e.id)}))}),Object(R.jsx)("div",{className:"img-container flex-center",children:t.img&&Object(R.jsx)("img",{src:t.img})}),Object(R.jsx)("p",{className:"card-text",style:{marginTop:t.labels.length?"5px":null},children:t.title})]}),b&&Object(R.jsx)("div",{className:"card-options flex",onClick:function(){return h((function(e){return!e}))},children:Object(R.jsx)(P.a,{style:{color:"#484848",fontSize:"14px"}})}),Object(R.jsx)("div",{className:"card-options-mobile flex",onClick:function(){return h((function(e){return!e}))},children:Object(R.jsx)(P.a,{style:{color:"#484848",fontSize:"14px"}})}),m&&Object(R.jsx)(E.a.div,{className:"card-menu",initial:"out",animate:"in",exit:"out",variants:{in:{opacity:1,x:0,transition:{duration:.2}},out:{opacity:0,x:"-10%"}},children:Object(R.jsx)(ee,{card:t,board:n,list:r,setShowEditCard:g,setShowCardActions:h,setMoveCardModal:a,setShowIcon:x})})]})}n(84),n(85);function ne(e){var t=e.list,n=e.board,r=e.setShowActionList,a=e.load,i=e.changeBoard,u=e.setEditListTitle,l=Object(c.useRef)(),d=Object(c.useRef)(),x=Object(H.c)(),O=Object(c.useState)(!1),p=Object(o.a)(O,2),h=p[0],v=p[1],N=Object(c.useState)(!1),y=Object(o.a)(N,2),g=y[0],w=y[1],k=Object(H.d)((function(e){return e.boardReducer.boards})),C=Object(H.d)((function(e){return e.userReducer.user}));Object(c.useEffect)((function(){return document.addEventListener("mousedown",_),function(){document.removeEventListener("mousedown",_)}}),[]),Object(c.useEffect)((function(){}),[t,n]);var _=function(e){l.current&&!l.current.contains(e.target)&&r(!1)},M=function(){var e=Object(b.a)(j.a.mark((function e(){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.removeList(n,t);case 2:c=e.sent,a(),x(Q(n,"removed a list",C)),i(c._id);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(b.a)(j.a.mark((function e(c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c._id!==n._id){e.next=5;break}return console.log("same board..."),e.abrupt("return");case 5:x(K(n._id,c._id,t)),a(),x(Q(n,"moved list to other board",C));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(R.jsxs)("div",{className:"action-list",ref:l,children:[Object(R.jsx)("div",{className:"close close-action",onClick:function(){return r(!1)},children:Object(R.jsx)(f.j,{})}),Object(R.jsx)("div",{className:"title",children:"List actions"}),Object(R.jsx)("div",{onClick:function(){return v((function(e){return!e}))},className:"hover-e",children:"Copy this list..."}),h&&Object(R.jsxs)("div",{className:"new-title",children:[Object(R.jsx)("input",{type:"text",ref:d,placeholder:"New title..."}),Object(R.jsx)("button",{onClick:function(){var e=Object(s.a)({},t),c=Object(s.a)({},n),a=c.lists.findIndex((function(e){return e._id===t._id}));e.title=d.current.value,e._id=W.createId(),c.lists.splice(a+1,0,e),x(X(c)),x(Q(n,"copied list",C)),r(!1)},children:"Save"})]}),Object(R.jsx)("div",{onClick:function(){return w((function(e){return!e}))},className:"hover-e",children:"Move list to board..."}),g&&Object(R.jsxs)("div",{className:"list-container",children:[Object(R.jsx)("p",{children:"Select board..."}),k.map((function(e){return Object(R.jsx)("div",{className:"move-list",children:Object(R.jsx)("p",{onClick:function(){return S(e)},children:e.title})},e._id)}))]}),Object(R.jsx)("div",{className:"hover-e",onClick:function(){return u((function(e){return!e}))},children:"Edit title..."}),Object(R.jsx)("div",{className:"hover-e",onClick:M,children:"Delete this list..."})]})}var ce=n(22);function re(e){var t=e.list,n=e.board,r=e.load,a=e.changeBoard,i=e.setMoveCardModal,u=Object(c.useRef)(),l=Object(c.useRef)(),d=Object(H.c)(),x=Object(c.useState)(!1),O=Object(o.a)(x,2),p=O[0],h=O[1],v=Object(c.useState)(!1),N=Object(o.a)(v,2),y=N[0],g=N[1],w=Object(c.useState)(!1),k=Object(o.a)(w,2),C=k[0],_=k[1];Object(c.useEffect)((function(){}),[t,n]);var M=function(){h(!0)},S=function(){g((function(e){return!e}))},B=function(){var e=Object(b.a)(j.a.mark((function e(){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.current.value){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,m.createCard(n,t,u.current.value,"card");case 4:c=e.sent,r(),a(c.board._id),u.current.value="";case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(s.a)({},n),c=e.lists.findIndex((function(e){return e._id===t._id}));e.lists[c].title=l.current.value,d(X(e)),_(!1)},A={in:{opacity:1,y:0,transition:{duration:.2}},out:{opacity:0,y:-10}};return Object(R.jsxs)("div",{className:"list",children:[Object(R.jsx)(ce.a,{onDragEnd:function(e){if(console.log(e),e.destination){var c=Object(s.a)({},n),r=c.lists.findIndex((function(e){return e._id===t._id})),a=c.lists[r].cards.splice(e.source.index,1),i=Object(o.a)(a,1)[0];c.lists[r].cards.splice(e.destination.index,0,i),d(X(c))}},children:Object(R.jsx)(ce.c,{droppableId:"cards",direction:"vertical",type:"row",children:function(e){return Object(R.jsxs)("div",Object(s.a)(Object(s.a)({},e.droppableProps),{},{ref:e.innerRef,children:[Object(R.jsxs)("div",{className:"title flex",children:[!C&&Object(R.jsx)("div",{className:"flex",children:Object(R.jsx)("p",{className:"icon-regular",onClick:function(){return _((function(e){return!e}))},children:t.title})}),C&&Object(R.jsxs)("div",{className:"flex icon-regular",children:[Object(R.jsx)("input",{type:"text",defaultValue:t.title,ref:l,className:"edit-title"}),Object(R.jsxs)("div",{className:"edit-icons",children:[Object(R.jsx)(f.a,{style:{marginLeft:"5px"},className:"icon-nr icon-regular icon-hov",onClick:D}),Object(R.jsx)(f.j,{className:"icon-regular icon-hov",onClick:function(){return _(!1)}})]})]}),Object(R.jsx)("div",{onClick:S,className:"action-btn flex",children:Object(R.jsx)(f.e,{className:"icon-regular"})})]}),t.cards.map((function(e,c){return Object(R.jsx)(ce.b,{draggableId:e._id,index:c,children:function(c){return Object(R.jsx)("div",Object(s.a)(Object(s.a)(Object(s.a)({},c.draggableProps),c.dragHandleProps),{},{ref:c.innerRef,children:Object(R.jsx)(te,{card:e,board:n,list:t,setMoveCardModal:i},e._id)}))}},e._id)})),e.placeholder,!p&&Object(R.jsxs)(E.a.div,{className:"flex pre-edit",onClick:M,initial:"out",animate:"in",exit:"out",variants:A,children:[Object(R.jsx)(f.f,{className:"icon-nr"}),Object(R.jsx)("p",{children:"Add Another card"})]}),p&&Object(R.jsxs)(E.a.div,{className:"edit",initial:"out",animate:"in",exit:"out",variants:A,children:[Object(R.jsx)("textarea",{ref:u,placeholder:"Write something..."}),Object(R.jsxs)("div",{className:"flex",children:[Object(R.jsx)("button",{onClick:B,children:"Add card"}),Object(R.jsx)("div",{onClick:function(e){return function(e){e.stopPropagation(),h(!1)}(e)},className:"icon-in flex",children:Object(R.jsx)(f.j,{})})]})]})]}))}})}),y&&Object(R.jsx)(E.a.div,{className:"options",initial:"out",animate:"in",exit:"out",variants:{in:{opacity:1,x:0,transition:{duration:.2}},out:{opacity:0,x:"-10%"}},children:Object(R.jsx)(ne,{list:t,board:n,setShowActionList:g,load:r,changeBoard:a,setEditListTitle:_})})]})}n(86),n(87);function ae(e){var t=e.setColorPalette,n=Object(c.useRef)(),r=Object(H.c)(),a=Object(H.d)((function(e){return e.boardReducer.board}));Object(c.useEffect)((function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}}),[]);var i=function(e){n.current&&!n.current.contains(e.target)&&"<p>Color</p>"!==e.toElement.outerHTML&&t(!1)},o=function(e){var n=Object(s.a)({},a);n.styles.img="",n.styles.background=e,r(X(n)),t(!1)};return Object(R.jsxs)(E.a.div,{className:"color-menu",ref:n,initial:"out",animate:"in",exit:"out",variants:{in:{opacity:1,y:0,transition:{duration:.2}},out:{opacity:0,y:-10}},children:[Object(R.jsx)("div",{className:"color",style:{backgroundColor:"#FF9E52"},onClick:function(){return o("#FF9E52")}}),Object(R.jsx)("div",{className:"color",style:{backgroundColor:"#526CFF"},onClick:function(){return o("#526CFF")}}),Object(R.jsx)("div",{className:"color",style:{backgroundColor:"#4C9908"},onClick:function(){return o("#4C9908")}}),Object(R.jsx)("div",{className:"color",style:{backgroundColor:"#089980"},onClick:function(){return o("#089980")}}),Object(R.jsx)("div",{className:"color",style:{backgroundColor:"#96CF39"},onClick:function(){return o("#96CF39")}}),Object(R.jsx)("div",{className:"color",style:{backgroundColor:"#0079BF"},onClick:function(){return o("#0079BF")}}),Object(R.jsx)("div",{className:"color",style:{backgroundColor:"#F05840"},onClick:function(){return o("#F05840")}}),Object(R.jsx)("div",{className:"color",style:{backgroundColor:"#F0C040"},onClick:function(){return o("#F0C040")}}),Object(R.jsx)("div",{className:"color",style:{backgroundColor:"#5540F0"},onClick:function(){return o("#5540F0")}})]})}var ie=n(25),se=n(45);n(88);function oe(e){var t=e.setIsMembers,n=Object(H.c)(),r=Object(c.useRef)(),a=Object(c.useState)(!1),i=Object(o.a)(a,2),u=i[0],l=i[1],d=Object(H.d)((function(e){return e.boardReducer.board})),x=Object(H.d)((function(e){return e.userReducer.users}));Object(c.useEffect)((function(){n(function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.loadUsers();case 2:n=e.sent,t({type:"SET_USERS",users:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(c.useEffect)((function(){return document.addEventListener("mousedown",p),function(){document.removeEventListener("mousedown",p)}}),[]);var O={in:{opacity:1,y:0,transition:{duration:.2}},out:{opacity:0,y:-10}},p=function(e){r.current&&!r.current.contains(e.target)&&"<p>Board members</p>"!==e.toElement.outerHTML&&(l(!1),t(!1))};return Object(R.jsxs)(E.a.div,{className:"members",initial:"out",animate:"in",exit:"out",variants:O,ref:r,children:[Object(R.jsx)("p",{className:"title",children:"Board Members"}),Object(R.jsx)("div",{className:"curr-members",children:d.members.map((function(e){return Object(R.jsxs)("div",{className:"user-container",children:[Object(R.jsx)("p",{className:"curr-user",children:e.fullName}),Object(R.jsx)("p",{className:"curr-user email",children:e.email}),Object(R.jsx)("p",{className:"icon-add",onClick:function(){return function(e){var t=Object(s.a)({},d),c=t.members.findIndex((function(t){return t._id===e._id}));t.members.splice(c,1),n(X(t))}(e)},children:"x"})]},e._id)}))}),Object(R.jsxs)("div",{className:"search",onClick:function(){return l((function(e){return!e}))},children:[Object(R.jsx)("p",{children:"Search for new users"}),Object(R.jsx)(f.b,{})]}),x&&u&&Object(R.jsx)(E.a.div,{className:"curr-members",initial:"out",animate:"in",exit:"out",variants:O,children:x.map((function(e){return Object(R.jsxs)("div",{className:"user-container",children:[Object(R.jsx)("p",{className:"curr-user",children:e.fullName}),Object(R.jsx)("p",{className:"curr-user email",children:e.email}),Object(R.jsx)("p",{className:"icon-add",onClick:function(){return function(e){var t=Object(s.a)({},d);t.members.some((function(t){return t.email===e.email}))||(t.members.push(e),n(X(t)))}(e)},children:"+"})]},e._id)}))})]})}function ue(e){var t=e.showBoardsMenu,n=e.load,r=e.setCreateBoard,a=e.showRightMenu,i=Object(H.c)(),u=Object(c.useRef)(),l=Object(c.useRef)(),d=Object(c.useState)(!1),j=Object(o.a)(d,2),b=j[0],x=j[1],O=Object(c.useState)(!1),p=Object(o.a)(O,2),m=p[0],h=p[1],v=Object(c.useState)(!1),N=Object(o.a)(v,2),y=N[0],g=N[1],w=Object(c.useState)(!1),k=Object(o.a)(w,2),C=k[0],_=k[1],M=Object(H.d)((function(e){return e.boardReducer.board}));Object(c.useEffect)((function(){n()}),[M]);var S={in:{opacity:1,y:0,transition:{duration:.2}},out:{opacity:0,y:-10}};return Object(R.jsxs)("div",{className:"tool-panel flex",children:[Object(R.jsxs)("div",{className:"btn flex-center title-edit",onClick:function(){return h(!0)},children:[!m&&Object(R.jsx)("div",{children:Object(R.jsx)("p",{children:M.title})}),m&&Object(R.jsxs)(E.a.div,{className:"flex",initial:"out",animate:"in",exit:"out",variants:S,children:[Object(R.jsx)("input",{type:"text",placeholder:"Set new title...",ref:u,defaultValue:M.title}),Object(R.jsxs)("div",{className:"flex",children:[Object(R.jsx)(f.a,{style:{marginLeft:"5px"},className:"icon-hov",onClick:function(e){if(e.stopPropagation(),u.current.value){var t=Object(s.a)({},M);t.title=u.current.value,i(X(t)),h(!1)}}}),Object(R.jsx)("div",{onClick:function(e){e.stopPropagation(),h(!1)},className:"flex",children:Object(R.jsx)(f.j,{style:{marginLeft:"5px"},className:"icon-hov"})})]})]})]}),Object(R.jsxs)("div",{onClick:t,className:"btn btn-hover flex-center",children:[Object(R.jsx)(P.b,{}),Object(R.jsx)("p",{children:"Boards"}),Object(R.jsx)(f.b,{})]}),Object(R.jsxs)("div",{onClick:function(){return r(!0)},className:"btn btn-hover flex-center",children:[Object(R.jsx)("p",{children:"Create board"}),Object(R.jsx)(se.a,{})]}),Object(R.jsxs)("div",{className:"color-container",children:[Object(R.jsxs)("div",{className:"btn btn-hover flex-center",onClick:function(e){x((function(e){return!e}))},children:[Object(R.jsx)(f.c,{}),Object(R.jsx)("p",{children:"Color"}),Object(R.jsx)(f.b,{})]}),b&&Object(R.jsx)("div",{className:"color-palette",children:Object(R.jsx)(ae,{setColorPalette:x})})]}),Object(R.jsx)("div",{className:"btn btn-hover",onClick:function(){var e=Object(s.a)({},M);e.isStarred?e.isStarred=!1:e.isStarred=!0,i(X(e))},children:Object(R.jsx)(ie.a,{style:{fontSize:"1.35rem",color:M.isStarred?"yellow":null}})}),Object(R.jsxs)("div",{className:"btn btn-hover members-container",children:[Object(R.jsxs)("div",{onClick:function(){return _((function(e){return!e}))},className:"flex-center",children:[Object(R.jsx)(f.i,{}),Object(R.jsx)("p",{children:"Board members"}),Object(R.jsx)(f.b,{})]}),C&&Object(R.jsx)("div",{className:"member",children:Object(R.jsx)(oe,{setIsMembers:_})})]}),!y&&Object(R.jsxs)("div",{className:"btn btn-hover flex",onClick:function(){return g(!0)},children:[Object(R.jsx)("p",{children:"Search card"}),Object(R.jsx)(f.g,{className:"icon-nr"})]}),y&&Object(R.jsxs)(E.a.div,{className:"flex search-input",initial:"out",animate:"in",exit:"out",variants:S,children:[Object(R.jsx)("input",{type:"text",onChange:function(){l.current.value?i(function(e,t){return function(n){n({type:"SEARCH_CARD",txt:e,board:t})}}(l.current.value,M)):i(J(M._id))},ref:l,placeholder:"Search card..."}),Object(R.jsx)(f.j,{className:"icon-search",onClick:function(){g(!1),l.current.value="",i(J(M._id))}})]}),Object(R.jsx)("div",{className:"right-menu-btn btn btn-hover flex",children:Object(R.jsx)(f.d,{onClick:a})})]})}function le(e){var t=e.load,n=e.changeBoard,r=e.showBoardsMenu,a=e.setMoveCardModal,i=e.setCreateBoard,u=e.showRightMenu,l=Object(c.useRef)(),d=Object(H.c)(),x=Object(c.useState)(!1),O=Object(o.a)(x,2),p=O[0],h=O[1],v=Object(H.d)((function(e){return e.boardReducer.board})),N=function(){return h(!0)},y=function(){var e=Object(b.a)(j.a.mark((function e(){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.createList(l.current.value,v,"list");case 2:c=e.sent,t(),n(c.board._id),h(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g={in:{opacity:1,y:0,transition:{duration:.2}},out:{opacity:0,y:-10}};return v&&Object(R.jsxs)("div",{className:"home",children:[Object(R.jsx)(ue,{showBoardsMenu:r,load:t,setCreateBoard:i,showRightMenu:u}),Object(R.jsx)(ce.a,{onDragEnd:function(e){if(e.destination){var t=Object(s.a)({},v),n=t.lists.splice(e.source.index,1),c=Object(o.a)(n,1)[0];t.lists.splice(e.destination.index,0,c),d(X(t))}},children:Object(R.jsx)(ce.c,{droppableId:"lists",direction:"horizontal",type:"column",children:function(e){return Object(R.jsxs)("div",Object(s.a)(Object(s.a)({className:"all-lists"},e.droppableProps),{},{ref:e.innerRef,children:[v.lists.map((function(e,c){return Object(R.jsx)(ce.b,{draggableId:e._id,index:c,children:function(c){return Object(R.jsx)("div",Object(s.a)(Object(s.a)(Object(s.a)({},c.draggableProps),c.dragHandleProps),{},{ref:c.innerRef,children:Object(R.jsx)(re,{list:e,board:v,load:t,changeBoard:n,setMoveCardModal:a},e._id)}))}},e._id)})),e.placeholder,Object(R.jsxs)("div",{className:"list add",onClick:N,children:[!p&&Object(R.jsxs)(E.a.div,{className:"flex add-list",initial:"out",animate:"in",exit:"out",variants:g,children:[Object(R.jsx)(f.f,{className:"icon-nr"}),Object(R.jsx)("p",{children:"Add another list"})]}),p&&Object(R.jsxs)(E.a.div,{style:{position:"relative"},className:"add",initial:"out",animate:"in",exit:"out",variants:g,children:[Object(R.jsx)("p",{children:"Add list"}),Object(R.jsx)("div",{onClick:function(e){return function(e){e.stopPropagation(),h(!1)}(e)},children:Object(R.jsx)(f.j,{className:"close"})}),Object(R.jsx)("input",{type:"text",placeholder:"List title...",ref:l}),Object(R.jsx)("button",{onClick:y,children:"Add"})]})]})]}))}})})]})}n(89);function de(e){var t=e.boards,n=e.changeBoard,r=e.closeDropdown,a=e.load,i=e.board,u=Object(c.useRef)(),l=Object(H.c)(),d=Object(c.useState)(0),x=Object(o.a)(d,2),O=x[0],p=x[1];Object(c.useEffect)((function(){return document.addEventListener("mousedown",v),function(){document.removeEventListener("mousedown",v)}}),[]),Object(c.useEffect)((function(){N()}),[]),Object(c.useEffect)((function(){a()}),[i]);var h=function(e){n(e),r(!1)},v=function(e){u.current&&!u.current.contains(e.target)&&"<p>Boards</p>"!==e.toElement.outerHTML&&r(!1)},N=function(){var e=0;t.forEach((function(t){return t.isStarred?e++:null})),p(e)},y=function(){var e=Object(b.a)(j.a.mark((function e(c,r){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.stopPropagation(),r===t[0]._id){e.next=6;break}return e.next=4,m.removeBoard(r);case 4:a(),n(t[0]._id);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(R.jsxs)("div",{className:"boards-dropdown",ref:u,children:[Object(R.jsx)(f.j,{className:"close",style:{margin:"5px"},onClick:function(){return r(!1)}}),Object(R.jsxs)("div",{className:"starred",children:[Object(R.jsxs)("div",{className:"flex title",children:[Object(R.jsx)(ie.a,{className:"icon-nr"}),Object(R.jsx)("p",{children:"Starred boards"})]}),O<=0?Object(R.jsx)("div",{className:"no-boards",children:Object(R.jsx)("p",{children:"Star your most important boards to keep them right at your fingertips."})}):Object(R.jsx)("div",{children:t.map((function(e){return e.isStarred&&Object(R.jsxs)("div",{className:"boards-list flex",onClick:function(){return h(e._id)},children:[Object(R.jsxs)("div",{className:"flex",children:[Object(R.jsx)("div",{className:"board-color",style:{backgroundImage:e.styles.img?"url(".concat(e.styles.img,")"):null,backgroundColor:e.styles.img?null:e.styles.background,backgroundSize:"2rem",backgroundRepeat:"no-repeat"}}),Object(R.jsx)("p",{children:e.title})]}),Object(R.jsx)("div",{className:"trash flex",onClick:function(t){return function(e,t){e.stopPropagation();var n=Object(s.a)({},t);n.isStarred=!1,l(X(n))}(t,e)},children:Object(R.jsx)(ie.c,{})})]},e._id)}))})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("div",{className:"timer",children:Object(R.jsxs)("div",{className:"flex title",children:[Object(R.jsx)(ie.b,{className:"icon-nr"}),Object(R.jsx)("p",{children:"Recent boards"})]})}),Object(R.jsx)("div",{children:t.map((function(e){return Object(R.jsxs)("div",{className:"boards-list flex",onClick:function(){return h(e._id)},children:[Object(R.jsxs)("div",{className:"flex",children:[Object(R.jsx)("div",{className:"board-color",style:{backgroundImage:e.styles.img?"url(".concat(e.styles.img,")"):null,backgroundColor:e.styles.img?null:e.styles.background,backgroundSize:"2rem",backgroundRepeat:"no-repeat"}}),Object(R.jsx)("p",{children:e.title})]}),Object(R.jsx)("div",{className:"del-list",children:Object(R.jsx)(f.j,{className:"flex",onClick:function(t){return y(t,e._id)}})})]},e._id)}))})]})]})}n(90);function je(e){var t=e.board,n=e.setMoveCardModal,r=Object(c.useRef)(),a=Object(H.c)(),i=Object(H.d)((function(e){return e.boardReducer.card})),u=Object(H.d)((function(e){return e.boardReducer.list}));Object(c.useEffect)((function(){}),[t]);return Object(R.jsxs)(E.a.div,{className:"move-card-modal create-board",initial:"out",animate:"in",exit:"out",variants:{in:{opacity:1,y:0,transition:{duration:.2}},out:{opacity:0,y:-10}},children:[Object(R.jsx)(f.j,{className:"close",onClick:function(){return n(!1)},style:{margin:"5px"}}),Object(R.jsx)("p",{children:"Select list to move card"}),Object(R.jsx)("select",{ref:r,children:t.lists.map((function(e){return Object(R.jsx)("option",{value:e._id,children:e.title},e._id)}))}),Object(R.jsx)("button",{onClick:function(){var e=r.current.value,c=Object(s.a)({},t),l=c.lists.findIndex((function(e){return e._id===u._id})),d=c.lists[l].cards.findIndex((function(e){return e._id===i._id})),j=c.lists[l].cards.splice(d,1),b=Object(o.a)(j,1)[0],f=c.lists.findIndex((function(t){return t._id===e}));c.lists[f].cards.unshift(b),a(X(c)),n(!1)},children:"Move card"})]})}n(91);function be(){return Object(R.jsxs)("div",{id:"particle-container",children:[Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"}),Object(R.jsx)("div",{className:"particle"})]})}n(92);function fe(){return Object(R.jsxs)("div",{className:"welcome",children:[Object(R.jsx)(be,{}),Object(R.jsxs)(E.a.div,{className:"text flex",initial:"out",animate:"in",exit:"out",variants:{in:{opacity:1,y:0,transition:{duration:.2}},out:{opacity:0,y:-10}},children:[Object(R.jsx)("h1",{children:"Trevo helps teams move work forward."}),Object(R.jsx)("p",{children:"Collaborate, manage projects, and reach new productivity peaks. from high rises to the home office, the way your team works is unique-accomplish it all with Trevo."}),Object(R.jsxs)("div",{className:"flex text-second",children:[Object(R.jsx)(u.b,{to:"/board",className:"start",children:"Start Now"}),Object(R.jsx)(u.b,{to:"/signup",className:"start",children:"Signup"}),Object(R.jsx)(u.b,{to:"/login",className:"ask",children:"Already a member? Login!"})]})]})]})}n(93);function xe(){var e=Object(c.useRef)(),t=Object(c.useRef)(),n=Object(c.useRef)(),r=Object(H.c)(),a=Object(l.f)(),i=Object(c.useState)(!1),s=Object(o.a)(i,2),d=s[0],f=s[1],x=Object(c.useState)(""),O=Object(o.a)(x,2),p=O[0],m=O[1],h=Object(H.d)((function(e){return e.userReducer.user})),v=function(){var c=Object(b.a)(j.a.mark((function c(i){var s,o,u;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return i.preventDefault(),c.next=3,I.signup(n.current.value,e.current.value,t.current.value);case 3:if(!(s=c.sent)||s.error){c.next=12;break}return c.next=7,I.login(e.current.value,t.current.value);case 7:o=c.sent,r(V(o)),a.push("/"),c.next=15;break;case 12:m(s.error),f(!0),u=setInterval((function(){f(!1),clearInterval(u)}),3e3);case 15:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();return Object(R.jsxs)("div",{className:"welcome",children:[Object(R.jsx)(be,{}),h&&Object(R.jsxs)("div",{className:"flex-center",style:{marginTop:"2rem",flexDirection:"column"},children:[Object(R.jsx)("p",{children:"You are already signed up."}),Object(R.jsx)(u.b,{to:"/",className:"btn-link",children:"Return"})]}),!h&&Object(R.jsxs)(E.a.form,{className:"signup flex-center",onSubmit:v,initial:"out",animate:"in",exit:"out",variants:{in:{opacity:1,y:0,transition:{duration:.2}},out:{opacity:0,y:-10}},children:[Object(R.jsx)("h1",{children:"Signup"}),Object(R.jsxs)("div",{className:"username",children:[Object(R.jsx)("p",{children:"Full name:"}),Object(R.jsx)("input",{type:"text",required:!0,placeholder:"Enter full name...",ref:n})]}),Object(R.jsxs)("div",{className:"email",children:[Object(R.jsx)("p",{children:"Email:"}),Object(R.jsx)("input",{type:"email",required:!0,placeholder:"Enter your email...",ref:e})]}),Object(R.jsxs)("div",{className:"password",children:[Object(R.jsx)("p",{children:"Password:"}),Object(R.jsx)("input",{type:"password",required:!0,placeholder:"Enter new password...",ref:t})]}),Object(R.jsx)("button",{children:"Signup"}),d&&Object(R.jsx)("p",{className:"err",children:p})]})]})}n(94);function Oe(){var e=Object(c.useRef)(),t=Object(c.useRef)(),n=Object(l.f)(),r=Object(H.c)(),a=Object(c.useState)(!1),i=Object(o.a)(a,2),s=i[0],d=i[1],f=Object(c.useState)(""),x=Object(o.a)(f,2),O=x[0],p=x[1],m=Object(H.d)((function(e){return e.userReducer.user})),h=function(){var c=Object(b.a)(j.a.mark((function c(){var a,i;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,I.login(e.current.value,t.current.value);case 2:(a=c.sent)&&!a.error?(r(V(a)),n.push("/")):(p(a.error),d(!0),i=setInterval((function(){d(!1),clearInterval(i)}),3e3));case 4:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();return Object(R.jsxs)("div",{className:"welcome",children:[Object(R.jsx)(be,{}),m&&Object(R.jsxs)("div",{className:"flex-center",style:{marginTop:"2rem",flexDirection:"column"},children:[Object(R.jsx)("p",{children:"You are already logged in."}),Object(R.jsx)(u.b,{to:"/",className:"btn-link",children:"Return"})]}),!m&&Object(R.jsxs)(E.a.div,{className:"login flex-center",initial:"out",animate:"in",exit:"out",variants:{in:{opacity:1,y:0,transition:{duration:.2}},out:{opacity:0,y:-10}},children:[Object(R.jsx)("h1",{children:"Login"}),Object(R.jsxs)("div",{className:"email",children:[Object(R.jsx)("p",{children:"Email:"}),Object(R.jsx)("input",{type:"email",placeholder:"Enter your email...",ref:e,defaultValue:"test@trevo.com"})]}),Object(R.jsxs)("div",{className:"password",children:[Object(R.jsx)("p",{children:"Password:"}),Object(R.jsx)("input",{type:"password",placeholder:"Enter your password...",ref:t,defaultValue:"123"})]}),Object(R.jsx)("button",{onClick:h,children:"Login"}),s&&Object(R.jsx)("p",{className:"err",children:O})]})]})}n(95);var pe={imgs:function(){return["https://images.unsplash.com/photo-1541701494587-cb58502866ab?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80","https://images.unsplash.com/photo-1567095751004-aa51a2690368?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80","https://images.unsplash.com/photo-1538673719418-0367029d6f2e?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=2034&q=80","https://images.unsplash.com/photo-1502481851512-e9e2529bfbf9?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80","https://images.unsplash.com/photo-1517052269751-4ae3ad86cc59?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=2089&q=80","https://images.unsplash.com/photo-1612892483236-52d32a0e0ac1?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80","https://images.unsplash.com/photo-1507608869274-d3177c8bb4c7?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80","https://images.unsplash.com/photo-1618141638308-e2d6ce729716?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80","https://images.unsplash.com/photo-1603976487252-5f1cee35fe6e?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1951&q=80","https://images.unsplash.com/photo-1546083381-2bed38b42cac?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80","https://images.unsplash.com/photo-1563089145-599997674d42?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80","https://images.unsplash.com/photo-1554668036-b85c20687cad?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80","https://images.unsplash.com/photo-1488928741225-2aaf732c96cc?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80","https://images.unsplash.com/photo-1428353077903-d09b3e000f37?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1947&q=80","https://images.unsplash.com/photo-1588392382834-a891154bca4d?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1955&q=80","https://images.unsplash.com/photo-1497436072909-60f360e1d4b1?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2089&q=80","https://images.unsplash.com/photo-1552082919-e60010758c47?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80","https://images.unsplash.com/photo-1489861518096-4d12b732e831?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=2007&q=80"]}};function me(e){var t=e.setRightMenu,n=Object(c.useRef)(),r=Object(H.c)(),a=Object(H.d)((function(e){return e.boardReducer.board})),i=Object(H.d)((function(e){return e.userReducer.user}));Object(c.useEffect)((function(){return document.addEventListener("mousedown",o),function(){document.removeEventListener("mousedown",o)}}),[]);var o=function(e){n.current&&!n.current.contains(e.target)&&t(!1)},u={in:{opacity:1,y:0,transition:{duration:.2}},out:{opacity:0,y:-10}};return Object(R.jsxs)(E.a.div,{className:"right-menu",initial:"out",animate:"in",exit:"out",variants:u,ref:n,children:[Object(R.jsx)(f.j,{className:"close-new",onClick:function(){return t(!1)}}),Object(R.jsx)("div",{className:"title",children:Object(R.jsx)("p",{children:"Background Images"})}),Object(R.jsx)(E.a.div,{className:"imgs-container",initial:"out",animate:"in",exit:"out",variants:u,children:pe.imgs().map((function(e){return Object(R.jsx)("div",{className:"menu-img-select",children:Object(R.jsx)("img",{src:e,onClick:function(){return function(e){var t=Object(s.a)({},a);t.styles.img=e,r(X(t)),r(Q(a,"changed the background of this board",i))}(e)}})},e)}))}),Object(R.jsx)("div",{className:"title",style:{marginTop:"1rem"},children:Object(R.jsx)("p",{children:"Board Actions"})}),Object(R.jsx)("div",{className:"actions-container",children:a.actions.map((function(e){return Object(R.jsxs)("div",{className:"action-details flex",children:[Object(R.jsx)("div",{style:{marginRight:"1rem"},className:"name-avatar",children:e.user.charAt(0)}),Object(R.jsxs)("div",{children:[Object(R.jsxs)("p",{children:[e.user," ",e.actionType]}),Object(R.jsx)("p",{className:"action-time",children:e.time})]})]},e.id)}))})]})}var he=function(){var e=Object(H.c)(),t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(!1),d=Object(o.a)(i,2),f=d[0],x=d[1],O=Object(c.useState)(!1),p=Object(o.a)(O,2),h=p[0],v=p[1],N=Object(c.useState)(!1),y=Object(o.a)(N,2),g=y[0],w=y[1],k=Object(H.d)((function(e){return e.boardReducer.boards})),C=Object(H.d)((function(e){return e.boardReducer.board})),_=Object(H.d)((function(e){return e.userReducer.user}));Object(c.useEffect)((function(){A()}),[]);var M=function(){return v((function(e){return!e}))},S=function(){return w((function(e){return!e}))},B=function(t){return e(J(t))},A=function(){e(function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.loadBoards();case 2:n=e.sent,t({type:"SET_BOARDS",boards:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return k&&C&&Object(R.jsxs)("div",{style:{backgroundImage:C.styles.img?"url(".concat(C.styles.img,")"):null,backgroundColor:C.styles.img?null:C.styles.background,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundAttachment:"fixed"},children:[r&&Object(R.jsx)("div",{className:"create-board-container",children:Object(R.jsx)(D,{setCreateBoard:a,user:_,changeBoard:B,load:A})}),f&&Object(R.jsx)("div",{className:"create-board-container",children:Object(R.jsx)(je,{board:C,setMoveCardModal:x})}),h&&Object(R.jsx)(E.a.div,{className:"z-pos",initial:"out",animate:"in",exit:"out",variants:{in:{opacity:1,x:0,transition:{duration:.2}},out:{opacity:0,x:"-10%"}},children:Object(R.jsx)(de,{boards:k,changeBoard:B,closeDropdown:v,load:A,board:C})}),g&&Object(R.jsx)("div",{children:Object(R.jsx)(me,{setRightMenu:w})}),Object(R.jsxs)(u.a,{children:[Object(R.jsx)(q,{user:_,showBoardsMenu:M}),Object(R.jsxs)(l.c,{children:[Object(R.jsx)(l.a,{exact:!0,path:"/",render:function(e){return Object(R.jsx)(fe,Object(s.a)({},e))}}),Object(R.jsx)(l.a,{exact:!0,path:"/signup",render:function(e){return Object(R.jsx)(xe,Object(s.a)({},e))}}),Object(R.jsx)(l.a,{exact:!0,path:"/login",render:function(e){return Object(R.jsx)(Oe,Object(s.a)({},e))}}),Object(R.jsx)(l.a,{exact:!0,path:"/board",render:function(e){return Object(R.jsx)(le,Object(s.a)(Object(s.a)({},e),{},{load:A,changeBoard:B,showBoardsMenu:M,setMoveCardModal:x,setCreateBoard:a,showRightMenu:S}))}})]})]})]})},ve=n(18),Ne=n(46),ye=(n.p,{boards:[],board:null,card:null,list:null});var ge=Object(ve.c)({boardReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOARDS":return Object(s.a)(Object(s.a)({},e),{},{boards:t.boards,board:e.board?e.board:e.board=t.boards[0]});case"SEARCH_CARD":var n=Object(s.a)({},e.board),c=e.board.lists.filter((function(e){return e.cards.find((function(e){return e.title.toLowerCase().includes(t.txt)}))}));return n.lists=c,Object(s.a)(Object(s.a)({},e),{},{board:n});case"SET_BOARD":case"UPDATE_BOARD":case"MOVE_LIST":return Object(s.a)(Object(s.a)({},e),{},{board:t.board});case"SET_CARD":return Object(s.a)(Object(s.a)({},e),{},{card:t.card});case"SET_LIST":return Object(s.a)(Object(s.a)({},e),{},{list:t.list});case"SET_ACTION":return Object(s.a)(Object(s.a)({},e),{},{board:t.updatedBoard});default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USERS":return Object(s.a)(Object(s.a)({},e),{},{users:t.users});case"LOGIN_USER":return Object(s.a)(Object(s.a)({},e),{},{user:t.user});case"LOGOUT":return Object(s.a)(Object(s.a)({},e),{},{user:null});default:return e}}}),we=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ve.d,ke=Object(ve.e)(ge,we(Object(ve.a)(Ne.a)));i.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(H.a,{store:ke,children:Object(R.jsx)(he,{})})}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.968a1085.chunk.js.map